/*! For license information please see uploads-manager-enduser.a42a192b73.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([["uploads-manager-enduser"],{"/5QKqsbcTJ":function(e,t,n){"use strict";var o=n("q1tIBJhxTW"),r=n("DJuBjJIVWu");t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,i=void 0===a?"#000000":a,l=e.height,s=void 0===l?24:l,c=e.title,u=e.width,d=void 0===u?24:u;return o.createElement(r.default,{className:"icon-check ".concat(n),height:s,title:c,viewBox:"0 0 24 24",width:d},o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.createElement("path",{className:"fill-color",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",fill:i}))}},"2W6zXrfv2o":function(e,t,n){"use strict";var o=function(){};e.exports=o},"2rMqT+dBMw":function(e,t,n){var o;!function(){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(o=function(){return a}.call(t,n,t,e))||(e.exports=o)}()},"2zs7GxXBkF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var o,r=n("2rMqT+dBMw");var a=((o=r)&&o.__esModule?o:{default:o}).default,i=a.canUseDOM?window.HTMLElement:{};t.canUseDOM=a.canUseDOM;t.default=i},"78uUOg9aI7":function(e,t,n){"use strict";n.r(t);var o=n("q1tIBJhxTW"),r=n.n(o),a=n("TSYQbtd+U2"),i=n.n(a),l=n("Q/4yk+FeKP"),s=n("JRPeW/Ew/U"),c=n("rXqiGNCH6O"),u=n("LB1CCsu39Q"),d=n("ZEDLez+ZlJ"),f=n("8Wpvjplx0g"),p=n("zapBslzZE5");n("MD9EiPAjNN");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var m=function(e){var t,n,o,a=e.onClick,i=e.hasMultipleFailedUploads?c.a.resumeAll:c.a.resume,l=(t={},n=p.a,o="uploadresumeheader",n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t);return r.a.createElement("div",{className:"bcu-uploads-manager-action"},r.a.createElement(d.default,h({onClick:function(e){e.stopPropagation(),a(f.STATUS_ERROR)},type:"button"},l),r.a.createElement(s.FormattedMessage,i)))},v=(n("kqErjesBlD"),function(e){var t=e.percent,n=e.view,o=e.onClick,a=e.onKeyDown,i=e.onUploadsManagerActionClick,l=e.isDragging,d=e.isResumeVisible,p=e.isVisible,h=e.isExpanded,v=e.hasMultipleFailedUploads,g=l||!p,b=g?r.a.createElement(s.FormattedMessage,c.a.uploadsManagerUploadPrompt):function(e){switch(e){case f.VIEW_UPLOAD_IN_PROGRESS:return r.a.createElement(s.FormattedMessage,c.a.uploadsManagerUploadInProgress);case f.VIEW_UPLOAD_SUCCESS:return r.a.createElement(s.FormattedMessage,c.a.uploadsManagerUploadComplete);case f.VIEW_UPLOAD_EMPTY:return r.a.createElement(s.FormattedMessage,c.a.uploadsManagerUploadPrompt);case f.VIEW_ERROR:return r.a.createElement(s.FormattedMessage,c.a.uploadsManagerUploadFailed);default:return""}}(n),S=g?0:function(e,t){switch(e){case f.VIEW_UPLOAD_SUCCESS:return 100;case f.VIEW_UPLOAD_EMPTY:case f.VIEW_ERROR:return 0;default:return t}}(n,t);return r.a.createElement("div",{className:"bcu-overall-progress-bar","data-resin-target":h?"uploadcollapse":"uploadexpand",onClick:o,onKeyDown:a,role:"button",tabIndex:p?"0":"-1"},r.a.createElement("span",{className:"bcu-upload-status"},b),r.a.createElement(u.a,{percent:S}),d&&r.a.createElement(m,{hasMultipleFailedUploads:v,onClick:i}),r.a.createElement("span",{className:"bcu-uploads-manager-toggle"}))});n("WdvQnfyWfI"),t.default=function(e){var t=e.items,n=e.view,o=e.onItemActionClick,a=e.onRemoveActionClick,s=e.onUploadsManagerActionClick,c=e.toggleUploadsManager,u=e.isExpanded,d=e.isVisible,p=e.isResumableUploadsEnabled,h=e.isDragging,m=0,g=0,b=0;t.forEach((function(e){e.status===f.STATUS_ERROR||e.isFolder?e.status===f.STATUS_ERROR&&(m+=1):(g+=e.size,b+=e.size*e.progress/100)}));var S=b/g*100,y=p&&m>0,_=m>1;return r.a.createElement("div",{"data-resin-component":"uploadsmanager","data-resin-feature":"uploads",className:i()("be bcu-uploads-manager-container",{"bcu-is-expanded":u,"bcu-is-visible":d})},r.a.createElement(v,{isDragging:h,isExpanded:u,isResumeVisible:y,isVisible:d,hasMultipleFailedUploads:_,onClick:c,onKeyDown:function(e){switch(e.key){case"Enter":case"Space":c()}},onUploadsManagerActionClick:s,percent:S,view:n}),r.a.createElement("div",{className:"bcu-uploads-manager-item-list"},r.a.createElement(l.a,{isResumableUploadsEnabled:p,items:t,onClick:o,onRemoveClick:a,view:n})))}},"9rZXnTAsBA":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n("qFS376fjvS"),a=(o=r)&&o.__esModule?o:{default:o};t.default=a.default,e.exports=t.default},BJCFseo9Uu:function(e,t,n){},FiCNVr4b82:function(e,t,n){},LB1CCsu39Q:function(e,t,n){"use strict";var o=n("q1tIBJhxTW"),r=n.n(o);n("c99PaKbaDG");function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,f,p,h=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=i(this,l(t).call(this,e));var o=e.percent;return n.state={percent:o},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),c(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.percent;return n!==t.percent?{percent:n}:null}}]),c(t,[{key:"render",value:function(){var e=this.state.percent,t={transitionDelay:e>0&&e<100?"0":"0.4s"};return r.a.createElement("div",{className:"bcu-progress-container",style:t},r.a.createElement("div",{className:"bcu-progress",style:{width:"".concat(e,"%")}}))}}]),t}(o.PureComponent);p={percent:0},(f="defaultProps")in(d=h)?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p,t.a=h},"LCiG8Ln/aX":function(e,t,n){},MD9EiPAjNN:function(e,t,n){},PHSoPstlj8:function(e,t,n){},"Q/4yk+FeKP":function(e,t,n){"use strict";var o=n("q1tIBJhxTW"),r=n.n(o),a=n("vN+2IcUykn"),i=n.n(a),l=n("GQeEi4JzHs"),s=n.n(l);n("17x9q+7QrQ");function c(e){var t=e.className,n=e.columns,r=e.style;return o.createElement("div",{className:t,role:"row",style:r},n)}c.propTypes=null;var u=n("iuhUzMh73M"),d={ASC:"ASC",DESC:"DESC"};function f(e){var t=e.sortDirection,n=Object(u.default)("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===d.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===d.DESC});return o.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},t===d.ASC?o.createElement("path",{d:"M7 14l5-5 5 5z"}):o.createElement("path",{d:"M7 10l5 5 5-5z"}),o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function p(e){var t=e.dataKey,n=e.label,r=e.sortBy,a=e.sortDirection,i=r===t,l=[o.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"===typeof n?n:null},n)];return i&&l.push(o.createElement(f,{key:"SortIndicator",sortDirection:a})),l}f.propTypes={},p.propTypes=null;var h=n("QbLZJtXF68"),m=n.n(h);function v(e){var t=e.className,n=e.columns,r=e.index,a=e.key,i=e.onRowClick,l=e.onRowDoubleClick,s=e.onRowMouseOut,c=e.onRowMouseOver,u=e.onRowRightClick,d=e.rowData,f=e.style,p={"aria-rowindex":r+1};return(i||l||s||c||u)&&(p["aria-label"]="row",p.tabIndex=0,i&&(p.onClick=function(e){return i({event:e,index:r,rowData:d})}),l&&(p.onDoubleClick=function(e){return l({event:e,index:r,rowData:d})}),s&&(p.onMouseOut=function(e){return s({event:e,index:r,rowData:d})}),c&&(p.onMouseOver=function(e){return c({event:e,index:r,rowData:d})}),u&&(p.onContextMenu=function(e){return u({event:e,index:r,rowData:d})})),o.createElement("div",m()({},p,{className:t,key:a,role:"row",style:f}),n)}v.propTypes=null;var g=n("Yz+Y0CAZeS"),b=n.n(g),S=n("iCc5sPGOWs"),y=n.n(S),_=n("FYw3c9QbSe"),C=n.n(_),w=n("mRg0wtBNeT"),O=n.n(w),E=function(e){function t(){return y()(this,t),C()(this,(t.__proto__||b()(t)).apply(this,arguments))}return O()(t,e),t}(o.Component);E.defaultProps={cellDataGetter:function(e){var t=e.dataKey,n=e.rowData;return"function"===typeof n.get?n.get(t):n[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:d.ASC,flexGrow:0,flexShrink:1,headerRenderer:p,style:{}};var T=E;E.propTypes={};var I=n("V7oCdLSCTo"),R=n.n(I),P=n("i8i4LrFtwK"),x=n("P2sYboDUk4"),A=n.n(x);function k(e){var t=e.cellCount,n=e.cellSize,o=e.computeMetadataCallback,r=e.computeMetadataCallbackProps,a=e.nextCellsCount,i=e.nextCellSize,l=e.nextScrollToIndex,s=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;t===a&&("number"!==typeof n&&"number"!==typeof i||n===i)||(o(r),s>=0&&s===l&&c())}var M=n("jo6YxlSlD1"),z=n.n(M),U=n("ba8eYFqijp"),D=n.n(U),F=function(){function e(t){var n=t.cellCount,o=t.cellSizeGetter,r=t.estimatedCellSize;y()(this,e),this._lastMeasuredIndex=-1,this._cellSizeGetter=o,this._cellCount=n,this._estimatedCellSize=r,this._layoutVector=new D.a,this._layoutVector.setLength(n),this._layoutVector.setDefaultSize(r)}return R()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,o=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=o,this._layoutVector.setLength(t),this._layoutVector.setDefaultSize(n)}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);var t=this._layoutVector;if(e>this._lastMeasuredIndex){for(var n={index:this._lastMeasuredIndex+1},o=n.index;o<=e;n.index=++o){var r=this._cellSizeGetter(n);if(void 0===r||r!==r)throw Error("Invalid size returned for cell "+o+" of value "+r);null!==r&&t.setItemSize(o,r)}this._lastMeasuredIndex=Math.min(e,this._cellCount-1)}return{offset:t.start(e),size:t.getItemSize(e)}}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){var e=this._lastMeasuredIndex;if(e<=0)return{offset:0,size:0};var t=this._layoutVector;return{offset:t.start(e),size:t.getItemSize(e)}}},{key:"getTotalSize",value:function(){var e=this._cellCount-1;return e>=0?this._layoutVector.end(e):0}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,o=e.containerSize,r=e.currentOffset,a=e.targetIndex;if(o<=0)return 0;var i=this.getSizeAndPositionOfCell(a),l=i.offset,s=l-o+i.size,c=void 0;switch(n){case"start":c=l;break;case"end":c=s;break;case"center":c=l-(o-i.size)/2;break;default:c=Math.max(s,Math.min(l,r))}var u=this.getTotalSize();return Math.max(0,Math.min(u-o,c))}},{key:"getVisibleCellRange",value:function(e){if(0===this.getTotalSize())return{};var t=e.containerSize,n=e.offset,o=n+t-1;return{start:this._findNearestCell(n),stop:this._findNearestCell(o)}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");for(var t=this._layoutVector,n=this._cellCount-1,o=Math.max(0,Math.min(e,t.start(n))),r=t.indexOf(o);r>this._lastMeasuredIndex;){if(this.getSizeAndPositionOfCell(r),r===n)return r;-1===(r=t.indexOf(o))&&(r=this._lastMeasuredIndex,this._lastMeasuredIndex=r-1,o=Math.max(0,Math.min(e,t.start(n))))}return r}}]),e}(),j=function(){return"undefined"!==typeof window&&window.chrome&&window.chrome.webstore?16777100:15e5},N=function(){function e(t){var n=t.maxScrollSize,o=void 0===n?j():n,r=z()(t,["maxScrollSize"]);y()(this,e),this._cellSizeAndPositionManager=new F(r),this._maxScrollSize=o}return R()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize(),a=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(a*(r-o))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,o=e.containerSize,r=e.currentOffset,a=e.targetIndex;r=this._safeOffsetToOffset({containerSize:o,offset:r});var i=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:o,currentOffset:r,targetIndex:a});return this._offsetToSafeOffset({containerSize:o,offset:i})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,o=e.totalSize;return o<=t?0:n/(o-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(o===r)return n;var a=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(a*(r-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(o===r)return n;var a=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(a*(o-t))}}]),e}();function L(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var o=n.callback,r=n.indices,a=s()(r),i=!e||a.every((function(e){var t=r[e];return Array.isArray(t)?t.length>0:t>=0})),l=a.length!==s()(t).length||a.some((function(e){var n=t[e],o=r[e];return Array.isArray(o)?n.join(",")!==o.join(","):n!==o}));t=r,i&&l&&o(r)}}function W(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,o=e.previousCellsCount,r=e.previousCellSize,a=e.previousScrollToAlignment,i=e.previousScrollToIndex,l=e.previousSize,s=e.scrollOffset,c=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,f=e.sizeJustIncreasedFromZero,p=e.updateScrollIndexCallback,h=n.getCellCount(),m=u>=0&&u<h;m&&(d!==l||f||!r||"number"===typeof t&&t!==r||c!==a||u!==i)?p(u):!m&&h>0&&(d<l||h<o)&&s>n.getTotalSize()-d&&p(h-1)}var H=n("+2+ffwlNqK"),G=n.n(H),V=n("VCL8fjJwDE"),B=n("4d7FDBMlz2"),Q=n.n(B),q=void 0,K=(q="undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).requestAnimationFrame||q.webkitRequestAnimationFrame||q.mozRequestAnimationFrame||q.oRequestAnimationFrame||q.msRequestAnimationFrame||function(e){return q.setTimeout(e,1e3/60)},J=q.cancelAnimationFrame||q.webkitCancelAnimationFrame||q.mozCancelAnimationFrame||q.oCancelAnimationFrame||q.msCancelAnimationFrame||function(e){q.clearTimeout(e)},X=K,Z=J,Y=function(e){return Z(e.id)},$="observed",ee="requested",te=function(e){function t(e){y()(this,t);var n=C()(this,(t.__proto__||b()(t)).call(this,e));n._onGridRenderedMemoizer=L(),n._onScrollMemoizer=L(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)};var o=new N({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),r=new N({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:o,rowSizeAndPositionManager:r,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,prevScrollLeft:e.scrollLeft,prevScrollTop:e.scrollTop,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:e.scrollLeft||0,scrollTop:e.scrollTop||0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return O()(t,e),R()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,o=e.columnIndex,r=void 0===o?this.props.scrollToColumn:o,a=e.rowIndex,i=void 0===a?this.props.scrollToRow:a,l=m()({},this.props,{scrollToAlignment:n,scrollToColumn:r,scrollToRow:i});return{scrollLeft:this._getCalculatedScrollLeft(l),scrollTop:this._getCalculatedScrollTop(l)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,o=e.scrollTop,r=void 0===o?0:o;if(!(r<0)){this._debounceScrollEnded();var a=this.props,i=a.autoHeight,l=a.autoWidth,s=a.height,c=a.width,u=this.state.instanceProps,d=u.scrollbarSize,f=u.rowSizeAndPositionManager.getTotalSize(),p=u.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,p-c+d),n),m=Math.min(Math.max(0,f-s+d),r);if(this.state.scrollLeft!==h||this.state.scrollTop!==m){var v={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:$};i||(v.scrollTop=m),l||(v.scrollLeft=h),v.needToResetStyleCache=!1,this.setState(v)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:p,totalRowsHeight:f})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,o=this.state.instanceProps;o.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),o.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o,a=this.props,i=a.scrollToColumn,l=a.scrollToRow,s=this.state.instanceProps;s.columnSizeAndPositionManager.resetCell(n),s.rowSizeAndPositionManager.resetCell(r),this._recomputeScrollLeftFlag=i>=0&&(1===this.state.scrollDirectionHorizontal?n<=i:n>=i),this._recomputeScrollTopFlag=l>=0&&(1===this.state.scrollDirectionVertical?r<=l:r>=l),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,o=this.props.columnCount,r=this.props;o>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(m()({},r,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(m()({},r,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,o=e.height,r=e.scrollLeft,a=e.scrollToColumn,i=e.scrollTop,l=e.scrollToRow,s=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(e){var t=m()({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"===typeof r&&r>=0||"number"===typeof i&&i>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:i});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=o>0&&s>0;a>=0&&d&&this._updateScrollLeftForScrollToColumn(),l>=0&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:i||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,o=this.props,r=o.autoHeight,a=o.autoWidth,i=o.columnCount,l=o.height,s=o.rowCount,c=o.scrollToAlignment,u=o.scrollToColumn,d=o.scrollToRow,f=o.width,p=this.state,h=p.scrollLeft,m=p.scrollPositionChangeReason,v=p.scrollTop,g=p.instanceProps;this._handleInvalidatedGridSize();var b=i>0&&0===e.columnCount||s>0&&0===e.rowCount;m===ee&&(!a&&h>=0&&(h!==this._scrollingContainer.scrollLeft||b)&&(this._scrollingContainer.scrollLeft=h),!r&&v>=0&&(v!==this._scrollingContainer.scrollTop||b)&&(this._scrollingContainer.scrollTop=v));var S=(0===e.width||0===e.height)&&l>0&&f>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):W({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:h,scrollToAlignment:c,scrollToIndex:u,size:f,sizeJustIncreasedFromZero:S,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):W({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:v,scrollToAlignment:c,scrollToIndex:d,size:l,sizeJustIncreasedFromZero:S,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),h!==t.scrollLeft||v!==t.scrollTop){var y=g.rowSizeAndPositionManager.getTotalSize(),_=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:v,totalColumnsWidth:_,totalRowsHeight:y})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Y(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,r=e.autoWidth,a=e.className,i=e.containerProps,l=e.containerRole,s=e.containerStyle,c=e.height,d=e.id,f=e.noContentRenderer,p=e.role,h=e.style,v=e.tabIndex,g=e.width,b=this.state,S=b.instanceProps,y=b.needToResetStyleCache,_=this._isScrolling(),C={boxSizing:"border-box",direction:"ltr",height:n?"auto":c,position:"relative",width:r?"auto":g,WebkitOverflowScrolling:"touch",willChange:"transform"};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var w=S.columnSizeAndPositionManager.getTotalSize(),O=S.rowSizeAndPositionManager.getTotalSize(),E=O>c?S.scrollbarSize:0,T=w>g?S.scrollbarSize:0;T===this._horizontalScrollBarSize&&E===this._verticalScrollBarSize||(this._horizontalScrollBarSize=T,this._verticalScrollBarSize=E,this._scrollbarPresenceChanged=!0),C.overflowX=w+E<=g?"hidden":"auto",C.overflowY=O+T<=c?"hidden":"auto";var I=this._childrenToDisplay,R=0===I.length&&c>0&&g>0;return o.createElement("div",m()({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Object(u.default)("ReactVirtualized__Grid",a),id:d,onScroll:this._onScroll,role:p,style:m()({},C,h),tabIndex:v}),I.length>0&&o.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:l,style:m()({width:t?"auto":w,height:O,maxWidth:w,maxHeight:O,overflow:"hidden",pointerEvents:_?"none":"",position:"relative"},s)},I),R&&f())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,o=e.cellRangeRenderer,r=e.columnCount,a=e.deferredMeasurementCache,i=e.height,l=e.overscanColumnCount,s=e.overscanIndicesGetter,c=e.overscanRowCount,u=e.rowCount,d=e.width,f=e.isScrollingOptOut,p=t.scrollDirectionHorizontal,h=t.scrollDirectionVertical,m=t.instanceProps,v=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,b=this._isScrolling(e,t);if(this._childrenToDisplay=[],i>0&&d>0){var S=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:g}),y=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:i,offset:v}),_=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:g}),C=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:i,offset:v});this._renderedColumnStartIndex=S.start,this._renderedColumnStopIndex=S.stop,this._renderedRowStartIndex=y.start,this._renderedRowStopIndex=y.stop;var w=s({direction:"horizontal",cellCount:r,overscanCellsCount:l,scrollDirection:p,startIndex:"number"===typeof S.start?S.start:0,stopIndex:"number"===typeof S.stop?S.stop:-1}),O=s({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:h,startIndex:"number"===typeof y.start?y.start:0,stopIndex:"number"===typeof y.stop?y.stop:-1}),E=w.overscanStartIndex,T=w.overscanStopIndex,I=O.overscanStartIndex,R=O.overscanStopIndex;if(a){if(!a.hasFixedHeight())for(var P=I;P<=R;P++)if(!a.has(P,0)){E=0,T=r-1;break}if(!a.hasFixedWidth())for(var x=E;x<=T;x++)if(!a.has(0,x)){I=0,R=u-1;break}}this._childrenToDisplay=o({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:E,columnStopIndex:T,deferredMeasurementCache:a,horizontalOffsetAdjustment:_,isScrolling:b,isScrollingOptOut:f,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:I,rowStopIndex:R,scrollLeft:g,scrollTop:v,styleCache:this._styleCache,verticalOffsetAdjustment:C,visibleColumnIndices:S,visibleRowIndices:y}),this._columnStartIndex=E,this._columnStopIndex=T,this._rowStartIndex=I,this._rowStopIndex=R}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Y(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=function(e,t){var n=void 0;Q.a.resolve().then((function(){n=Date.now()}));var o={id:X((function r(){Date.now()-n>=t?e.call():o.id=X(r)}))};return o}(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"===typeof this._deferredInvalidateColumnIndex&&"number"===typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,o=e.scrollTop,r=e.totalColumnsWidth,a=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,o=e.scrollTop,i=t.props,l=i.height;(0,i.onScroll)({clientHeight:l,clientWidth:i.width,scrollHeight:a,scrollLeft:n,scrollTop:o,scrollWidth:r})},indices:{scrollLeft:n,scrollTop:o}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,o=e.scrollTop,r=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:o});r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,o=t._getScrollLeftForScrollToColumnStateUpdate(e,n);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var o=this._rowStartIndex;o<=this._rowStopIndex;o++)for(var r=this._columnStartIndex;r<=this._columnStopIndex;r++){var a=o+"-"+r;this._styleCache[a]=e[a],n&&(this._cellCache[a]=t[a])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,o=t._getScrollTopForScrollToRowStateUpdate(e,n);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var o={},r=n.instanceProps;0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(o.scrollLeft=0,o.scrollTop=0):(e.scrollLeft!==r.prevScrollLeft&&e.scrollToColumn<0||e.scrollTop!==r.prevScrollTop&&e.scrollToRow<0)&&A()(o,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})),o.needToResetStyleCache=!1,e.columnWidth===r.prevColumnWidth&&e.rowHeight===r.prevRowHeight||(o.needToResetStyleCache=!0),r.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),r.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==r.prevColumnCount&&0!==r.prevRowCount||(r.prevColumnCount=0,r.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===r.prevIsScrolling&&A()(o,{isScrolling:!1});var a=void 0,i=void 0;return k({cellCount:r.prevColumnCount,cellSize:"number"===typeof r.prevColumnWidth?r.prevColumnWidth:null,computeMetadataCallback:function(){return r.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"===typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:r.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){a=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),k({cellCount:r.prevRowCount,cellSize:"number"===typeof r.prevRowHeight?r.prevRowHeight:null,computeMetadataCallback:function(){return r.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"===typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:r.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),r.prevColumnCount=e.columnCount,r.prevColumnWidth=e.columnWidth,r.prevIsScrolling=!0===e.isScrolling,r.prevRowCount=e.rowCount,r.prevRowHeight=e.rowHeight,r.prevScrollToColumn=e.scrollToColumn,r.prevScrollToRow=e.scrollToRow,r.prevScrollLeft=e.scrollLeft,r.prevScrollTop=e.scrollTop,r.scrollbarSize=e.getScrollbarSize(),void 0===r.scrollbarSize?(r.scrollbarSizeMeasured=!1,r.scrollbarSize=0):r.scrollbarSizeMeasured=!0,o.instanceProps=r,m()({},o,a,i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"===typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"===typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,o=e.scrollTop,r={scrollPositionChangeReason:ee};return"number"===typeof n&&n>=0&&(r.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,r.scrollLeft=n),"number"===typeof o&&o>=0&&(r.scrollDirectionVertical=o>t.scrollTop?1:-1,r.scrollTop=o),"number"===typeof n&&n>=0&&n!==t.scrollLeft||"number"===typeof o&&o>=0&&o!==t.scrollTop?r:null}},{key:"_wrapSizeGetter",value:function(e){return"function"===typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,o=e.height,r=e.scrollToAlignment,a=e.scrollToColumn,i=e.width,l=t.scrollLeft,s=t.instanceProps;if(n>0){var c=n-1,u=a<0?c:Math.min(c,a),d=s.rowSizeAndPositionManager.getTotalSize(),f=s.scrollbarSizeMeasured&&d>o?s.scrollbarSize:0;return s.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:i-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var o=n.scrollLeft,r=t._getCalculatedScrollLeft(e,n);return"number"===typeof r&&r>=0&&o!==r?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:r,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,o=e.rowCount,r=e.scrollToAlignment,a=e.scrollToRow,i=e.width,l=t.scrollTop,s=t.instanceProps;if(o>0){var c=o-1,u=a<0?c:Math.min(c,a),d=s.columnSizeAndPositionManager.getTotalSize(),f=s.scrollbarSizeMeasured&&d>i?s.scrollbarSize:0;return s.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:n-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var o=n.scrollTop,r=t._getCalculatedScrollTop(e,n);return"number"===typeof r&&r>=0&&o!==r?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:r}):null}}]),t}(o.PureComponent);te.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,o=e.columnSizeAndPositionManager,r=e.columnStartIndex,a=e.columnStopIndex,i=e.deferredMeasurementCache,l=e.horizontalOffsetAdjustment,s=e.isScrolling,c=e.isScrollingOptOut,u=e.parent,d=e.rowSizeAndPositionManager,f=e.rowStartIndex,p=e.rowStopIndex,h=e.styleCache,m=e.verticalOffsetAdjustment,v=e.visibleColumnIndices,g=e.visibleRowIndices,b=[],S=o.areOffsetsAdjusted()||d.areOffsetsAdjusted(),y=!s&&!S,_=f;_<=p;_++)for(var C=d.getSizeAndPositionOfCell(_),w=r;w<=a;w++){var O=o.getSizeAndPositionOfCell(w),E=w>=v.start&&w<=v.stop&&_>=g.start&&_<=g.stop,T=_+"-"+w,I=void 0;y&&h[T]?I=h[T]:i&&!i.has(_,w)?I={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(I={height:C.size,left:O.offset+l,position:"absolute",top:C.offset+m,width:O.size},h[T]=I);var R={columnIndex:w,isScrolling:s,isVisible:E,key:T,parent:u,rowIndex:_,style:I},P=void 0;!c&&!s||l||m?P=n(R):(t[T]||(t[T]=n(R)),P=t[T]),null!=P&&!1!==P&&b.push(P)}return b},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:G.a,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,o=e.scrollDirection,r=e.startIndex,a=e.stopIndex;return 1===o?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(t-1,a+n)}:{overscanStartIndex:Math.max(0,r-n),overscanStopIndex:Math.min(t-1,a)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},te.propTypes=null,Object(V.polyfill)(te);var ne=te;var oe=function(e){function t(e){y()(this,t);var n=C()(this,(t.__proto__||b()(t)).call(this,e));return n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(n),n._createRow=n._createRow.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n}return O()(t,e),R()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,a=t.disableHeader,i=t.gridClassName,l=t.gridStyle,s=t.headerHeight,c=t.headerRowRenderer,d=t.height,f=t.id,p=t.noRowsRenderer,h=t.rowClassName,v=t.rowStyle,g=t.scrollToIndex,b=t.style,S=t.width,y=this.state.scrollbarWidth,_=a?d:d-s,C="function"===typeof h?h({index:-1}):h,w="function"===typeof v?v({index:-1}):v;return this._cachedColumnStyles=[],o.Children.toArray(n).forEach((function(t,n){var o=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[n]=m()({},o,{overflow:"hidden"})})),o.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":o.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:Object(u.default)("ReactVirtualized__Table",r),id:f,role:"grid",style:b},!a&&c({className:Object(u.default)("ReactVirtualized__Table__headerRow",C),columns:this._getHeaderColumns(),style:m()({height:s,overflow:"hidden",paddingRight:y,width:S},w)}),o.createElement(ne,m()({},this.props,{autoContainerWidth:!0,className:Object(u.default)("ReactVirtualized__Table__Grid",i),cellRenderer:this._createRow,columnWidth:S,columnCount:1,height:_,id:void 0,noContentRenderer:p,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:y,scrollToRow:g,style:m()({},l,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,n=e.columnIndex,r=e.isScrolling,a=e.parent,i=e.rowData,l=e.rowIndex,s=this.props.onColumnClick,c=t.props,d=c.cellDataGetter,f=c.cellRenderer,p=c.className,h=c.columnData,m=c.dataKey,v=c.id,g=f({cellData:d({columnData:h,dataKey:m,rowData:i}),columnData:h,columnIndex:n,dataKey:m,isScrolling:r,parent:a,rowData:i,rowIndex:l}),b=this._cachedColumnStyles[n],S="string"===typeof g?g:null;return o.createElement("div",{"aria-colindex":n+1,"aria-describedby":v,className:Object(u.default)("ReactVirtualized__Table__rowColumn",p),key:"Row"+l+"-Col"+n,onClick:function(e){s&&s({columnData:h,dataKey:m,event:e})},role:"gridcell",style:b,title:S},g)}},{key:"_createHeader",value:function(e){var t=e.column,n=e.index,r=this.props,a=r.headerClassName,i=r.headerStyle,l=r.onHeaderClick,s=r.sort,c=r.sortBy,f=r.sortDirection,p=t.props,h=p.columnData,v=p.dataKey,g=p.defaultSortDirection,b=p.disableSort,S=p.headerRenderer,y=p.id,_=p.label,C=!b&&s,w=Object(u.default)("ReactVirtualized__Table__headerColumn",a,t.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:C}),O=this._getFlexStyleForColumn(t,m()({},i,t.props.headerStyle)),E=S({columnData:h,dataKey:v,disableSort:b,label:_,sortBy:c,sortDirection:f}),T=void 0,I=void 0,R=void 0,P=void 0,x=void 0;if(C||l){var A=c!==v?g:f===d.DESC?d.ASC:d.DESC,k=function(e){C&&s({defaultSortDirection:g,event:e,sortBy:v,sortDirection:A}),l&&l({columnData:h,dataKey:v,event:e})};x=t.props["aria-label"]||_||v,P="none",R=0,T=k,I=function(e){"Enter"!==e.key&&" "!==e.key||k(e)}}return c===v&&(P=f===d.ASC?"ascending":"descending"),o.createElement("div",{"aria-label":x,"aria-sort":P,className:w,id:y,key:"Header-Col"+n,onClick:T,onKeyDown:I,role:"columnheader",style:O,tabIndex:R},E)}},{key:"_createRow",value:function(e){var t=this,n=e.rowIndex,r=e.isScrolling,a=e.key,i=e.parent,l=e.style,s=this.props,c=s.children,d=s.onRowClick,f=s.onRowDoubleClick,p=s.onRowRightClick,h=s.onRowMouseOver,v=s.onRowMouseOut,g=s.rowClassName,b=s.rowGetter,S=s.rowRenderer,y=s.rowStyle,_=this.state.scrollbarWidth,C="function"===typeof g?g({index:n}):g,w="function"===typeof y?y({index:n}):y,O=b({index:n}),E=o.Children.toArray(c).map((function(e,o){return t._createColumn({column:e,columnIndex:o,isScrolling:r,parent:i,rowData:O,rowIndex:n,scrollbarWidth:_})})),T=Object(u.default)("ReactVirtualized__Table__row",C),I=m()({},l,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:_},w);return S({className:T,columns:E,index:n,isScrolling:r,key:a,onRowClick:d,onRowDoubleClick:f,onRowRightClick:p,onRowMouseOver:h,onRowMouseOut:v,rowData:O,style:I})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.props.flexGrow+" "+e.props.flexShrink+" "+e.props.width+"px",o=m()({},t,{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(o.maxWidth=e.props.maxWidth),e.props.minWidth&&(o.minWidth=e.props.minWidth),o}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,n=t.children;return(t.disableHeader?[]:o.Children.toArray(n)).map((function(t,n){return e._createHeader({column:t,index:n})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"===typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,o=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:o})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,o=e.rowStartIndex,r=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:o,stopIndex:r})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){if(this.Grid){var e=Object(P.findDOMNode)(this.Grid),t=e.clientWidth||0,n=(e.offsetWidth||0)-t;this.setState({scrollbarWidth:n})}}}]),t}(o.PureComponent);oe.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,o=e.scrollDirection,r=e.startIndex,a=e.stopIndex;return n=Math.max(1,n),1===o?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(t-1,a+n)}:{overscanStartIndex:Math.max(0,r-n),overscanStopIndex:Math.min(t-1,a+1)}},overscanRowCount:10,rowRenderer:v,headerRowRenderer:c,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var re=oe;oe.propTypes={};var ae=n("m0AvLASv6a"),ie=function(e){function t(){var e,n,o,r;y()(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=C()(this,(e=t.__proto__||b()(t)).call.apply(e,[this].concat(i))),o.state={height:o.props.defaultHeight||0,width:o.props.defaultWidth||0},o._onResize=function(){var e=o.props,t=e.disableHeight,n=e.disableWidth,r=e.onResize;if(o._parentNode){var a=o._parentNode.offsetHeight||0,i=o._parentNode.offsetWidth||0,l=window.getComputedStyle(o._parentNode)||{},s=parseInt(l.paddingLeft,10)||0,c=parseInt(l.paddingRight,10)||0,u=parseInt(l.paddingTop,10)||0,d=parseInt(l.paddingBottom,10)||0,f=a-u-d,p=i-s-c;(!t&&o.state.height!==f||!n&&o.state.width!==p)&&(o.setState({height:a-u-d,width:i-s-c}),r({height:a,width:i}))}},o._setRef=function(e){o._autoSizer=e},r=n,C()(o,r)}return O()(t,e),R()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(ae.a)(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,a=e.disableWidth,i=e.style,l=this.state,s=l.height,c=l.width,u={overflow:"visible"},d={};return r||(u.height=0,d.height=s),a||(u.width=0,d.width=c),o.createElement("div",{className:n,ref:this._setRef,style:m()({},u,i)},t(d))}}]),t}(o.PureComponent);ie.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},ie.propTypes=null;var le=ie,se=n("j40BKDjj29"),ce=n("uxWH3DCSBo"),ue=n("hTu1I8XSxD"),de=n("DJuBjJIVWu"),fe=function(e){var t=e.className,n=void 0===t?"":t,r=e.height,a=void 0===r?32:r,i=e.title,l=e.width,s=void 0===l?32:l;return o.createElement(de.default,{className:"icon-folder-personal ".concat(n),height:a,title:i,viewBox:"0 0 32 32",width:s},o.createElement("path",{d:"M27,25H5c-0.6,0-1-0.4-1-1V8c0-0.6,0.4-1,1-1h8.6L16,9h11c0.6,0,1,0.4,1,1v14C28,24.6,27.6,25,27,25z",fill:"#EFD289"}),o.createElement("path",{d:"M26.5,24h-21C5.2,24,5,23.8,5,23.5V12h22v11.6C27,23.8,26.8,24,26.5,24z",fill:"#FDEFC1"}))},pe=(n("PHSoPstlj8"),function(e){var t=e.name;return r.a.createElement("span",{className:"bcu-item-label"},t)}),he=n("8Wpvjplx0g"),me=(n("kxUgykoVL+"),function(e){var t=e.name,n=e.extension,o=e.isFolder,a=void 0!==o&&o,i=e.isResumableUploadsEnabled,l=e.status,s=a?r.a.createElement(fe,null):r.a.createElement(ce.default,{extension:n});return i&&l===he.STATUS_ERROR&&(s=r.a.createElement(se.default,{className:"bcu-icon-badge",bottomRight:r.a.createElement(ue.a,{height:18,width:18})},s)),r.a.createElement("div",{className:"bcu-item-icon-name"},r.a.createElement("div",{className:"bcu-item-icon"},s),r.a.createElement("div",{className:"bcu-item-name"},r.a.createElement(pe,{name:t})))});function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var ge=n("JRPeW/Ew/U"),be=n("rXqiGNCH6O"),Se=n("LB1CCsu39Q"),ye=(n("hwwHgtiB94"),function(e){var t=e.progress;return r.a.createElement("div",{className:"bcu-item-progress"},r.a.createElement(Se.a,{percent:t}),r.a.createElement("div",{className:"bcu-progress-label"},t,"%"))});function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var Ce=function(){return function(e){var t=e.rowData,n=t.status,o=t.error,a=void 0===o?{}:o,i=t.name,l=t.isFolder,s=a.code;if(l&&n!==he.STATUS_ERROR)return null;switch(n){case he.STATUS_IN_PROGRESS:case he.STATUS_STAGED:return r.a.createElement(ye,t);case he.STATUS_ERROR:return function(e,t){switch(e){case he.ERROR_CODE_UPLOAD_CHILD_FOLDER_FAILED:return r.a.createElement(ge.FormattedMessage,be.a.uploadsOneOrMoreChildFoldersFailedToUploadMessage);case he.ERROR_CODE_UPLOAD_FILE_SIZE_LIMIT_EXCEEDED:return r.a.createElement(ge.FormattedMessage,be.a.uploadsFileSizeLimitExceededErrorMessage);case he.ERROR_CODE_ITEM_NAME_IN_USE:return r.a.createElement(ge.FormattedMessage,be.a.uploadsItemNameInUseErrorMessage);case he.ERROR_CODE_ITEM_NAME_INVALID:return r.a.createElement(ge.FormattedMessage,_e({},be.a.uploadsProvidedFolderNameInvalidMessage,{values:{name:t}}));case he.ERROR_CODE_UPLOAD_STORAGE_LIMIT_EXCEEDED:return r.a.createElement(ge.FormattedMessage,be.a.uploadsStorageLimitErrorMessage);case he.ERROR_CODE_UPLOAD_PENDING_APP_FOLDER_SIZE_LIMIT:return r.a.createElement(ge.FormattedMessage,be.a.uploadsPendingFolderSizeLimitErrorMessage);default:return r.a.createElement(ge.FormattedMessage,be.a.uploadsDefaultErrorMessage)}}(s,i);default:return null}}},we=n("/5QKqsbcTJ"),Oe=n("Kf1iZLTMZ8"),Ee=n("UroeuGWH9k"),Te=function(){return r.a.createElement("div",{className:"be-icon-in-progress"},r.a.createElement(Oe.default,null),r.a.createElement(Ee.default,null))},Ie=n("huPBr4gIu/"),Re=n("O7ShCEU3xy"),Pe=n("sp/ddhnBtW"),xe=n("BBtKKuFpIS"),Ae=(n("FiCNVr4b82"),Object(ge.injectIntl)((function(e){var t,n=e.status,o=e.onClick,a=e.intl,i=e.isResumableUploadsEnabled,l=e.isFolder,s=void 0!==l&&l,c=r.a.createElement(Oe.default,null);if(s&&n!==he.STATUS_PENDING)return null;switch(n){case he.STATUS_COMPLETE:c=r.a.createElement(we.a,{color:"#26C281"}),i||(t=be.a.remove);break;case he.STATUS_ERROR:c=r.a.createElement(Ie.a,{height:24,width:24}),t=i?be.a.resume:be.a.retry;break;case he.STATUS_IN_PROGRESS:case he.STATUS_STAGED:i?c=r.a.createElement(Re.default,null):(c=r.a.createElement(Te,null),t=be.a.uploadsCancelButtonTooltip);break;case he.STATUS_PENDING:default:i?c=r.a.createElement(Re.default,null):t=be.a.uploadsCancelButtonTooltip}return r.a.createElement("div",{className:"bcu-item-action"},t?r.a.createElement(xe.default,{position:"top-left",text:a.formatMessage(t)},r.a.createElement(Pe.default,{onClick:o,type:"button",isDisabled:n===he.STATUS_STAGED},c)):c)})));function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var ze=function(e){var t=e.onClick,n=e.status,o={},a=null;return n===he.STATUS_IN_PROGRESS?a="uploadcancel":n===he.STATUS_ERROR&&(a="remove-failed"),a&&(o["data-resin-target"]=a),r.a.createElement("div",{className:"bcu-item-action"},r.a.createElement(xe.default,{position:"top-left",text:r.a.createElement(ge.FormattedMessage,be.a.remove)},r.a.createElement(Pe.default,Me({onClick:t,type:"button",isDisabled:n===he.STATUS_STAGED},o),r.a.createElement(Oe.default,null))))};n("RkejHhdd8g"),n("BJCFseo9Uu"),t.a=function(e){var t=e.isResumableUploadsEnabled,n=void 0!==t&&t,o=e.items,a=e.onClick,l=e.onRemoveClick,s=void 0===l?i.a:l;return r.a.createElement(le,null,(function(e){var t,i=e.width,l=e.height,c=function(e){return function(t){var n=t.rowData;return r.a.createElement(me,ve({isResumableUploadsEnabled:e},n))}}(n),u=Ce(),d=function(e,t){return function(n){var o=n.rowData;return r.a.createElement(Ae,ke({},o,{isResumableUploadsEnabled:e,onClick:function(){return t(o)}}))}}(n,a),f=(t=s,function(e){var n=e.rowData;return n.isFolder?null:r.a.createElement(ze,{status:n.status,onClick:function(){return t(n)}})});return r.a.createElement(re,{className:"bcu-item-list",disableHeader:!0,headerHeight:0,height:l,rowClassName:"bcu-item-row",rowCount:o.length,rowGetter:function(e){var t=e.index;return o[t]},rowHeight:50,width:i},r.a.createElement(T,{cellRenderer:c,dataKey:"name",flexGrow:1,flexShrink:1,width:300}),r.a.createElement(T,{cellRenderer:u,dataKey:"progress",flexGrow:1,flexShrink:1,style:{textAlign:"right"},width:300}),r.a.createElement(T,{className:n?"":"bcu-item-list-action-column",cellRenderer:d,dataKey:"status",flexShrink:0,width:25}),n&&r.a.createElement(T,{className:"bcu-item-list-action-column",cellRenderer:f,dataKey:"remove",flexShrink:0,width:25}))}))}},QAlc8H81B9:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var o=n("i499tIxQ7a"),r=n("XJrsqhcipr");n("07U6bTMPbZ");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,s=function(e){return"".concat(e.folderID,"_").concat(e.uploadInitTimestamp,"_").concat(e.file.webkitRelativePath||e.file.name)},c=function(e){return l||(l=new o.d({url:Object(r.g)("box_upload_get_scoped_token"),scenario:o.c,timeout:36e5})),l.getToken(e)},u=function(e){var t=e.isFolder,n=void 0!==t&&t,o=e.boxFile,r=void 0===o?{}:o,l=e.options,s=void 0===l?{}:l,c=e.file,u=void 0===c?{}:c,d={isFolder:!!n,id:r.id,folderID:s.folderId,uploadInitTimestamp:s.uploadInitTimestamp};return n?d:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},d,{fileName:u.name})}},QEsoKfQNDw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n("q1tIBJhxTW"),l=m(i),s=m(n("17x9q+7QrQ")),c=h(n("VKEOrkDRN/")),u=m(n("S1toH+gAJC")),d=h(n("Ye7mbDSjDo")),f=h(n("fbhfxMfiED")),p=m(n("2zs7GxXBkF"));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},g=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,o=e.ariaHideApp,r=e.htmlOpenClassName,a=e.bodyOpenClassName;a&&f.remove(document.body,a),r&&f.remove(document.getElementsByTagName("html")[0],r),o&&g>0&&0===(g-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose()},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var o="object"===("undefined"===typeof t?"undefined":r(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},a=o.base;return n.state.afterOpen&&(a=a+" "+o.afterOpen),n.state.beforeClose&&(a=a+" "+o.beforeClose),"string"===typeof t&&t?a+" "+t:a},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,o){return n[e+"-"+o]=t[o],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,o=e.htmlOpenClassName,r=e.bodyOpenClassName;r&&f.add(document.body,r),o&&f.add(document.getElementsByTagName("html")[0],o),n&&(g+=1,d.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,r=e.overlayClassName,a=e.defaultStyles,i=n?{}:a.content,s=r?{}:a.overlay;return this.shouldBeClosed()?null:l.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",r),style:o({},s,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},l.default.createElement("div",o({id:t,ref:this.setContentRef,style:o({},i,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(i.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.instanceOf(p.default),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,testId:s.default.string},t.default=b,e.exports=t.default},Rwrl1rrmaI:function(e,t,n){},"S1toH+gAJC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e);if(!n.length)return void t.preventDefault();var o,r=t.shiftKey,i=n[0],l=n[n.length-1];if(e===document.activeElement){if(!r)return;o=l}l!==document.activeElement||r||(o=i);i===document.activeElement&&r&&(o=l);if(o)return t.preventDefault(),void o.focus();var s=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==s||"Chrome"==s[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=r?-1:1);if("undefined"===typeof n[c])return t.preventDefault(),void(o=r?l:i).focus();t.preventDefault(),n[c].focus()};var o,r=n("ZDLaNmnDzE"),a=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},UGAudXi1CD:function(e,t,n){"use strict";var o=n("q1tIBJhxTW"),r=n.n(o),a=n("i8i4LrFtwK"),i=n("TSYQbtd+U2"),l=n.n(i);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=e.dropValidator,n=e.onDrop;return function(e){var i,v;return v=i=function(o){function i(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o=function(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?p(e):t}(this,f(i).call(this,e)),m(p(o),"removeEventListeners",(function(e){e.removeEventListener("dragenter",o.handleDragEnter),e.removeEventListener("dragover",o.handleDragOver),e.removeEventListener("dragleave",o.handleDragLeave),e.removeEventListener("drop",o.handleDrop)})),m(p(o),"bindDragDropHandlers",(function(){var e=Object(a.findDOMNode)(p(o));e&&e instanceof Element&&(e.addEventListener("dragenter",o.handleDragEnter),e.addEventListener("dragover",o.handleDragOver),e.addEventListener("dragleave",o.handleDragLeave),e.addEventListener("drop",o.handleDrop),o.droppableEl=e)})),m(p(o),"handleDragEnter",(function(e){if(e.preventDefault(),1===++o.enterLeaveCounter){var n=e.dataTransfer,r=!t||t(o.props,n);o.setState({isOver:!0,canDrop:r})}})),m(p(o),"handleDragOver",(function(e){e.preventDefault();var t=o.state.canDrop,n=e.dataTransfer;n&&(t?n.effectAllowed&&(n.dropEffect=n.effectAllowed):n.dropEffect="none")})),m(p(o),"handleDrop",(function(e){e.preventDefault(),o.enterLeaveCounter=0;var t=o.state.canDrop;o.setState({canDrop:!1,isDragging:!1,isOver:!1}),t&&n&&n(e,o.props)})),m(p(o),"handleDragLeave",(function(e){e.preventDefault(),--o.enterLeaveCounter>0||o.setState({canDrop:!1,isDragging:!1,isOver:!1})})),o.enterLeaveCounter=0,o.state={canDrop:!1,isDragging:!1,isOver:!1},o}var v,g,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,o),v=i,(g=[{key:"componentDidMount",value:function(){this.bindDragDropHandlers()}},{key:"componentDidUpdate",value:function(){this.droppableEl?Object(a.findDOMNode)(this)!==this.droppableEl&&(this.removeEventListeners(this.droppableEl),this.bindDragDropHandlers()):this.bindDragDropHandlers()}},{key:"componentWillUnmount",value:function(){this.droppableEl&&this.droppableEl instanceof Element&&this.removeEventListeners(this.droppableEl)}},{key:"render",value:function(){var t=this.props,n=t.className,o=u(t,["className"]),a=this.state,i=a.canDrop,s=a.isOver,d=l()(n,{"is-droppable":i,"is-over":s}),f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{},this.state,{className:d});return r.a.createElement(e,f)}}])&&d(v.prototype,g),b&&d(v,b),i}(o.PureComponent),m(i,"defaultProps",{className:""}),v}}},"VKEOrkDRN/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==i.length&&(e=i.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){l=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){l=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var o,r=n("ZDLaNmnDzE"),a=(o=r)&&o.__esModule?o:{default:o};var i=[],l=null,s=!1;function c(){s=!0}function u(){if(s){if(s=!1,!l)return;setTimeout((function(){l.contains(document.activeElement)||((0,a.default)(l)[0]||l).focus()}),0)}}},WdvQnfyWfI:function(e,t,n){},Ye7mbDSjDo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=s,t.setElement=function(e){var t=e;if("string"===typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);s(n,t),t="length"in n?n[0]:n}return l=t||l},t.validateElement=c,t.hide=function(e){c(e)&&(e||l).setAttribute("aria-hidden","true")},t.show=function(e){c(e)&&(e||l).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){l=null},t.resetForTesting=function(){l=null};var o,r=n("2W6zXrfv2o"),a=(o=r)&&o.__esModule?o:{default:o},i=n("2zs7GxXBkF");var l=null;function s(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){return!(!e&&!l)||((0,a.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},YvDElkTIAa:function(e,t,n){"use strict";n.r(t);var o=n("q9wI8Vu9Ou"),r=n("cI/NIHfjzz"),a=n("M07/7cXzxz"),i=n("7p/EjBZ4S1"),l=n("a5nOL7HUhw"),s=n("81PDVCd0Sz"),c=n("oB2klZje1l"),u=n("edfMKrmZUX"),d=n("tKo2w/h5Bc"),f=n("BvuJV68Ath"),p=n("yfVltoudHF"),h=n("zW0Y7dXPsy"),m=n("It0vNd5L5s"),v=n("vxJfpaXHxo"),g=n("7z6RzydI8F"),b=n("q1tIBJhxTW"),S=n.n(b),y=(n("JPcvh7FMFD"),n("ls82xohDAq"),n("TSYQbtd+U2")),_=n.n(y),C=n("mwIZSSbMl2"),w=n.n(C),O=n("vN+2IcUykn"),E=n.n(O),T=n("mNz5hShaC3"),I=n.n(T),R=n("BkRInKdPEO"),P=n.n(R),x=n("a2jX1cNsCJ"),A=n("Eik2blTx9V"),k=n("NR/qkXUXgp"),M=n("YrhTq/oyJV"),z=n("VqrN+CpLF1"),U=n("8Wpvjplx0g");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n,o,r,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,r)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){j(a,o,r,i,l,"next",e)}function l(e){j(a,o,r,i,l,"throw",e)}i(void 0)}))}}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(){function e(t,n,o,r,a,i){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),W(this,"files",[]),W(this,"folders",{}),W(this,"uploadChildFolders",function(){var e=N(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.values(l.folders),o=n.map((function(e){return e.upload(l.folderId,t)})),e.next=4,Promise.all(o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W(this,"createAndUploadFolder",function(){var e=N(regeneratorRuntime.mark((function e(t,n){var o,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.buildCurrentFolderFromEntry();case 2:return o=!1,r="",e.prev=4,e.next=7,l.createFolder();case 7:a=e.sent,l.folderId=a.id,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),e.t0.code===U.ERROR_CODE_ITEM_NAME_IN_USE?l.folderId=e.t0.context_info.conflicts[0].id:n?t(e.t0):(o=!0,r=e.t0.code,t({code:U.ERROR_CODE_UPLOAD_CHILD_FOLDER_FAILED}));case 14:if(!n){e.next=16;break}return e.abrupt("return");case 16:i={extension:"",name:l.name,status:U.STATUS_COMPLETE,isFolder:!0,size:1,progress:100},o&&(i.status=U.STATUS_ERROR,i.error={code:r}),l.addFolderToUploadQueue(i);case 19:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}()),W(this,"getFormattedFiles",(function(){return l.files.map((function(e){return{file:e,options:F({},l.fileAPIOptions,{folderId:l.folderId,uploadInitTimestamp:Date.now()})}}))})),W(this,"createFolderUploadNodesFromEntries",function(){var t=N(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map(function(){var t=N(regeneratorRuntime.mark((function t(n){var o,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.isFile,r=n.name,!o){t.next=7;break}return t.next=4,Object(M.getFileFromEntry)(n);case 4:return a=t.sent,l.files.push(a),t.abrupt("return");case 7:l.folders[r]=new e(r,l.addFilesToUploadQueue,l.addFolderToUploadQueue,l.fileAPIOptions,F({},l.baseAPIOptions,{},l.fileAPIOptions),n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),W(this,"readEntry",(function(e,t){e.readEntries(function(){var n=N(regeneratorRuntime.mark((function n(o){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.length){n.next=3;break}return t(),n.abrupt("return");case 3:return n.next=5,l.createFolderUploadNodesFromEntries(o);case 5:l.readEntry(e,t);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),E.a)})),W(this,"buildCurrentFolderFromEntry",(function(){return l.entry?new Promise((function(e){var t=l.entry.createReader();l.readEntry(t,e)})):Promise.resolve()})),W(this,"getFolderId",(function(){return l.folderId})),this.name=t,this.addFilesToUploadQueue=n,this.addFolderToUploadQueue=o,this.fileAPIOptions=r,this.baseAPIOptions=a,this.entry=i}var t,n,o,r;return t=e,(n=[{key:"upload",value:(r=N(regeneratorRuntime.mark((function e(t,n){var o,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.length>2&&void 0!==r[2]&&r[2],this.parentFolderId=t,e.next=4,this.createAndUploadFolder(n,o);case 4:if(!this.getFolderId()){e.next=8;break}return this.addFilesToUploadQueue(this.getFormattedFiles(),E.a,!0),e.next=8,this.uploadChildFolders(n);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"createFolder",value:function(){var e=this,t=new z.a(F({},this.baseAPIOptions,{id:"folder_".concat(this.parentFolderId)}));return new Promise((function(n,o){t.create(e.parentFolderId,e.name,n,o)}))}}])&&L(t.prototype,n),o&&L(t,o),e}();function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function V(e,t,n,o,r,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,r)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){V(a,o,r,i,l,"next",e)}function l(e){V(a,o,r,i,l,"throw",e)}i(void 0)}))}}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),q(this,"files",[]),this.addFilesToUploadQueue=t,this.destinationFolderId=n,this.addFolderToUploadQueue=o,this.baseAPIOptions=r}var t,n,o,r,a;return t=e,(n=[{key:"buildFolderTreeFromWebkitRelativePath",value:function(e){var t=this;Array.from(e).forEach((function(e){var n=Object(M.getFile)(e),o=n.webkitRelativePath;if(o){var r=Object(M.getFileAPIOptions)(e),a=o.split("/").slice(0,-1);if(!(a.length<=0)){if(!t.folder){var i=a[0];t.folder=t.createFolderUploadNode(i,r)}1===a.length&&t.folder.files.push(n);var l=t.folder.folders,s=a.slice(1);s.forEach((function(e,o){l[e]||(l[e]=t.createFolderUploadNode(e,r)),o===s.length-1?l[e].files.push(n):l=l[e].folders}))}}}))}},{key:"buildFolderTreeFromDataTransferItem",value:(a=B(regeneratorRuntime.mark((function e(t){var n,o,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(M.getDataTransferItem)(t),o=Object(M.getDataTransferItemAPIOptions)(t),r=Object(M.getEntryFromDataTransferItem)(n),a=r.name,this.folder=this.createFolderUploadNode(a,o,r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"createFolderUploadNode",value:function(e,t,n){return new H(e,this.addFilesToUploadQueue,this.addFolderToUploadQueue,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.baseAPIOptions,{},t),n)}},{key:"upload",value:(r=B(regeneratorRuntime.mark((function e(t){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.errorCallback,o=t.successCallback,e.next=3,this.folder.upload(this.destinationFolderId,n,!0);case 3:(r=this.folder.getFolderId())&&o([{id:r}]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"cancel",value:function(){}}])&&Q(t.prototype,n),o&&Q(t,o),e}(),J=n("Jdck50bD+l"),X=n("UGAudXi1CD"),Z=n("Q/4yk+FeKP"),Y=n("JRPeW/Ew/U"),$=n("KmWS2rf6bR"),ee=n("DJuBjJIVWu"),te=n("1En/ASmD05"),ne=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,r=void 0===o?te.bdlBoxBlue:o,a=e.height,i=void 0===a?55:a,l=e.title,s=e.width,c=void 0===s?46:s;return b.createElement(ee.default,{className:"upload-empty-state ".concat(n),height:i,title:l,viewBox:"0 0 46 55",width:c},b.createElement("path",{d:"M1,52V3A2,2,0,0,1,3,1H30.91a2,2,0,0,1,1.41.59L44.41,13.68A2,2,0,0,1,45,15.09V52a2,2,0,0,1-2,2H3A2,2,0,0,1,1,52Z",fill:"#fff"}),b.createElement("path",{className:"fill-color",d:"M45.12,13,33,.88A3,3,0,0,0,30.91,0H3A3,3,0,0,0,0,3V52a3,3,0,0,0,3,3H43a3,3,0,0,0,3-3V15.09A3,3,0,0,0,45.12,13ZM43,53H3a1,1,0,0,1-1-1V3A1,1,0,0,1,3,2H30V13a3,3,0,0,0,3,3H44V52A1,1,0,0,1,43,53Z",fill:r}),b.createElement("path",{className:"fill-color",d:"M21,29v4a1,1,0,0,0,.91,1h2.18A1,1,0,0,0,25,33V29h2.74a1,1,0,0,0,.76-1.65l-4.83-5.62a1,1,0,0,0-1.41-.11l-.11.11-4.82,5.62A1,1,0,0,0,18.09,29Z",fill:r}),b.createElement("polyline",{className:"stroke-color",fill:"none",points:"13 36 13 39 33 39 33 36",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}))},oe=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,r=void 0===o?te.bdlBoxBlue:o,a=e.height,i=void 0===a?49:a,l=e.title,s=e.width,c=void 0===s?50:s;return b.createElement(ee.default,{className:"upload-success-state ".concat(n),height:i,title:l,viewBox:"0 0 50 49",width:c},b.createElement("path",{className:"fill-color",d:"M41.88,4.39l4,4.53L17,38.73,4.24,26,9,21.28l5.89,6.09L17,29.57l2.16-2.18,22.74-23M42,0,17,25.28,9,17,0,26,17,43,50,9,42,0Z",fill:r}),b.createElement("rect",{className:"fill-color",fill:r,fillOpacity:"0.2",height:"3",rx:"1.5",ry:"1.5",width:"6",x:"4",y:"46"}),b.createElement("rect",{className:"fill-color",fill:r,fillOpacity:"0.2",height:"3",rx:"1.5",ry:"1.5",width:"6",x:"33",y:"46"}),b.createElement("rect",{className:"fill-color",fill:r,fillOpacity:"0.2",height:"3",rx:"1.5",ry:"1.5",width:"21",x:"11",y:"46"}))},re=n("rXqiGNCH6O"),ae=n("RvctuLmB2G"),ie=function(e){var t=e.isMultiple,n=void 0===t||t,o=e.isFolderUpload,r=void 0!==o&&o,a=e.inputLabelClass,i=void 0===a?"":a,l=e.inputLabel,s=e.handleChange;return l?b.createElement("label",{className:i},l,b.createElement("input",{directory:r?"":void 0,multiple:n,onChange:s,type:"file",webkitdirectory:r?"":void 0})):null};function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var se=function(e){var t,n=e.fileInputLabel,o=e.folderInputLabel,r=e.message,a=e.onChange,i=e.useButton,l=void 0!==i&&i,s=r?b.createElement("div",{className:"bcu-upload-state-message"},r):null,c=l?"btn btn-primary be-input-btn":"be-input-link",u=!l&&!!o,d=function(e){a&&(a(e),e.currentTarget.value="")},f=b.createElement(ie,{handleChange:d,inputLabel:n,inputLabelClass:c}),p=u?b.createElement(ie,{handleChange:d,inputLabel:o,inputLabelClass:c,isFolderUpload:!0}):null;return f&&p?t=b.createElement(Y.FormattedMessage,le({},re.a.uploadOptions,{values:{option1:f,option2:p}})):f&&(t=f),b.createElement("div",null,s,t&&b.createElement("div",{className:"bcu-upload-input-container"},t))},ce=(n("mUkOjmcVog"),function(e){var t,n,o=e.canDrop,r=e.hasItems,a=e.isOver,i=e.isTouch,l=e.view,s=e.onSelect,c=e.isFolderUploadEnabled;switch(l){case U.VIEW_ERROR:t=S.a.createElement($.a,null),n=S.a.createElement(se,{message:S.a.createElement(Y.FormattedMessage,re.a.uploadError)});break;case U.VIEW_UPLOAD_EMPTY:t=S.a.createElement(ne,null),n=o&&r?S.a.createElement(se,{message:S.a.createElement(Y.FormattedMessage,re.a.uploadInProgress)}):i?S.a.createElement(se,{fileInputLabel:S.a.createElement(Y.FormattedMessage,re.a.uploadNoDragDrop),onChange:s,useButton:!0}):S.a.createElement(se,{fileInputLabel:S.a.createElement(Y.FormattedMessage,re.a.uploadEmptyFileInput),folderInputLabel:c&&S.a.createElement(Y.FormattedMessage,re.a.uploadEmptyFolderInput),message:!ae.a.isIE()&&(c?S.a.createElement(Y.FormattedMessage,re.a.uploadEmptyWithFolderUploadEnabled):S.a.createElement(Y.FormattedMessage,re.a.uploadEmptyWithFolderUploadDisabled)),onChange:s});break;case U.VIEW_UPLOAD_IN_PROGRESS:t=S.a.createElement(ne,null),n=S.a.createElement(se,{message:S.a.createElement(Y.FormattedMessage,re.a.uploadInProgress)});break;case U.VIEW_UPLOAD_SUCCESS:t=S.a.createElement(oe,null),n=S.a.createElement(se,{fileInputLabel:S.a.createElement(Y.FormattedMessage,re.a.uploadSuccessFileInput),folderInputLabel:c&&S.a.createElement(Y.FormattedMessage,re.a.uploadSuccessFolderInput),message:S.a.createElement(Y.FormattedMessage,re.a.uploadSuccess),onChange:s,useButton:i})}var u=_()("bcu-upload-state",{"bcu-is-droppable":a&&o,"bcu-is-not-droppable":a&&!o,"bcu-has-items":r});return S.a.createElement("div",{className:u},S.a.createElement("div",null,t,n),S.a.createElement("div",{className:"bcu-drag-drop-overlay"}))}),ue=(n("LCiG8Ln/aX"),{dropValidator:function(e,t){var n=e.allowedTypes,o=t.types;return Array.from(o).some((function(e){return n.indexOf(e)>-1}))},onDrop:function(e,t){(0,t.addDataTransferItemsToUploadQueue)(e.dataTransfer.items)}}),de=Object(X.a)(ue)((function(e){var t=e.canDrop,n=e.isOver,o=e.isTouch,r=e.view,a=e.items,i=e.addFiles,l=e.onClick,s=e.isFolderUploadEnabled,c=a.length>0;return S.a.createElement("div",{className:"bcu-droppable-content"},S.a.createElement(Z.a,{items:a,onClick:l,view:r}),S.a.createElement(ce,{canDrop:t,hasItems:c,isFolderUploadEnabled:s,isOver:n,isTouch:o,onSelect:function(e){var t=e.target.files;return i(t)},view:r}))})),fe=n("78uUOg9aI7"),pe=n("6nEKfXW+oX"),he=n("7MFL+u6YKU");n("Rwrl1rrmaI");function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var ve=function(e){var t,n=e.isLoading,o=e.hasFiles,r=e.errorCode,a=e.onCancel,i=e.onClose,l=e.onUpload,s=e.fileLimit,c=e.isDone;switch(r){case U.ERROR_CODE_UPLOAD_FILE_LIMIT:t=S.a.createElement(Y.FormattedMessage,me({},re.a.uploadErrorTooManyFiles,{values:{fileLimit:s}}))}return S.a.createElement("div",{className:"bcu-footer"},S.a.createElement("div",{className:"bcu-footer-left"},i?S.a.createElement(he.default,{isDisabled:o,onClick:i,type:"button"},S.a.createElement(Y.FormattedMessage,re.a.close)):null),t&&S.a.createElement("div",{className:"bcu-footer-message"},t),S.a.createElement("div",{className:"bcu-footer-right"},S.a.createElement(he.default,{isDisabled:!o||c,onClick:a,type:"button"},S.a.createElement(Y.FormattedMessage,re.a.cancel)),S.a.createElement(pe.a,{isDisabled:!o,isLoading:n,onClick:l,type:"button"},S.a.createElement(Y.FormattedMessage,re.a.upload))))};n("SN9E8qYgiE"),n("hKYwB55ssH");function ge(e){return(ge="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ye(e,t,n,o,r,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,r)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){ye(a,o,r,i,l,"next",e)}function l(e){ye(a,o,r,i,l,"throw",e)}i(void 0)}))}}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==ge(t)&&"function"!==typeof t?Te(e):t}(this,Ee(t).call(this,e)),Re(Te(n),"isAutoExpanded",!1),Re(Te(n),"getBaseAPIOptions",(function(){var e=n.props;return{token:e.token,sharedLink:e.sharedLink,sharedLinkPassword:e.sharedLinkPassword,apiHost:e.apiHost,uploadHost:e.uploadHost,clientName:e.clientName,requestInterceptor:e.requestInterceptor,responseInterceptor:e.responseInterceptor}})),Re(Te(n),"getNewFiles",(function(e){var t=n.props.rootFolderId,o=n.state.itemIds;return Array.from(e).filter((function(e){return!o[Object(M.getFileId)(e,t)]}))})),Re(Te(n),"getNewDataTransferItems",(function(e){var t=n.props.rootFolderId,o=n.state.itemIds;return Array.from(e).filter((function(e){return!o[Object(M.getDataTransferItemId)(e,t)]}))})),Re(Te(n),"addFilesToUploadQueue",(function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n.props,a=r.onBeforeUpload,i=r.rootFolderId;if(e&&0!==e.length){var l=n.getNewFiles(e);if(0!==l.length){var s={};l.forEach((function(e){s[Object(M.getFileId)(e,i)]=!0})),clearTimeout(n.resetItemsTimeout);var c=Object(M.getFile)(l[0]);n.setState((function(e){return{itemIds:we({},e.itemIds,{},s)}}),(function(){a(l),c.webkitRelativePath&&!o?n.addFilesWithRelativePathToQueue(l,t):n.addFilesWithoutRelativePathToQueue(l,t)}))}}})),Re(Te(n),"addDataTransferItemsToUploadQueue",(function(e,t){var o=n.props.isFolderUploadEnabled;if(e&&0!==e.length){var r=[],a=[];Array.from(e).forEach((function(e){var t=Object(M.isDataTransferItemAFolder)(e);t&&o?r.push(e):t||a.push(e)})),n.addFileDataTransferItemsToUploadQueue(a,t),n.addFolderDataTransferItemsToUploadQueue(r,t)}})),Re(Te(n),"addFileDataTransferItemsToUploadQueue",(function(e,t){e.forEach(function(){var e=_e(regeneratorRuntime.mark((function e(o){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.getFileFromDataTransferItem)(o);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:n.addFilesToUploadQueue([r],t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),Re(Te(n),"addFolderDataTransferItemsToUploadQueue",function(){var e=_e(regeneratorRuntime.mark((function e(t,o){var r,a,i,l,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.rootFolderId,a=n.state.itemIds,0!==t.length){e.next=4;break}return e.abrupt("return");case 4:if((i=n.getNewDataTransferItems(t)).forEach((function(e){a[Object(M.getDataTransferItemId)(e,r)]=!0})),0!==i.length){e.next=8;break}return e.abrupt("return");case 8:l=Object(M.getDataTransferItemAPIOptions)(i[0]),s=l.folderId,c=void 0===s?r:s,i.forEach(function(){var e=_e(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getFolderUploadAPI(c),e.next=3,r.buildFolderTreeFromDataTransferItem(t);case 3:n.addFolderToUploadQueue(r,o,l);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Re(Te(n),"getFolderUploadAPI",(function(e){var t=n.getBaseAPIOptions();return new K(n.addFilesToUploadQueue,e,n.addToQueue,t)})),Re(Te(n),"addFolderToUploadQueue",(function(e,t,o){n.addToQueue([{api:e,extension:"",isFolder:!0,name:e.folder.name,options:o,progress:0,size:1,status:U.STATUS_PENDING}],t)})),Re(Te(n),"addFilesWithoutRelativePathToQueue",(function(e,t){var o=n.state.itemIds,r=n.props.rootFolderId,a=e.map((function(e){var t=Object(M.getFile)(e),a=Object(M.getFileAPIOptions)(e),i=t.name,l=t.size,s=i.substr(i.lastIndexOf(".")+1);s.length===i.length&&(s="");var c={api:n.getUploadAPI(t,a),extension:s,file:t,name:i,progress:0,size:l,status:U.STATUS_PENDING};return a&&(c.options=a),o[Object(M.getFileId)(c,r)]=!0,c}));0!==a.length&&(n.setState({itemIds:o}),n.addToQueue(a,t))})),Re(Te(n),"addToQueue",(function(e,t){var o=n.props,r=o.fileLimit,a=o.useUploadsManager,i=n.state,l=i.items,s=i.isUploadsManagerExpanded,c=[],u=l.length,d=u+e.length;d>r?(c=l.concat(e.slice(0,r-l.length)),n.setState({errorCode:U.ERROR_CODE_UPLOAD_FILE_LIMIT})):(c=l.concat(e),n.setState({errorCode:""}),u<5&&d>=5&&a&&!s&&(n.isAutoExpanded=!0,n.expandUploadsManager())),n.updateViewAndCollection(c,(function(){t&&t(),n.state.view===U.VIEW_UPLOAD_IN_PROGRESS&&n.upload()}))})),Re(Te(n),"removeFileFromUploadQueue",(function(e){var t=n.props,o=t.onCancel,r=t.useUploadsManager,a=n.state.items;n.setState({errorCode:""}),e.api.cancel(),a.splice(a.indexOf(e),1),o([e]),n.updateViewAndCollection(a,(function(){r&&!a.length&&n.minimizeUploadsManager(),n.state.view===U.VIEW_UPLOAD_IN_PROGRESS&&n.upload()}))})),Re(Te(n),"cancel",(function(){n.state.items.forEach((function(e){var t=e.api;e.status===U.STATUS_IN_PROGRESS&&t.cancel()})),n.updateViewAndCollection([])})),Re(Te(n),"upload",(function(){n.state.items.forEach((function(e){e.status===U.STATUS_PENDING&&n.uploadFile(e)}))})),Re(Te(n),"handleUploadSuccess",(function(e,t){var o=n.props,r=o.onUpload,a=o.useUploadsManager;if(e.progress=100,e.error||(e.status=U.STATUS_COMPLETE),t&&1===t.length){var i=Se(t,1)[0];e.boxFile=i}var l=n.state.items;l[l.indexOf(e)]=e,a?(r(e),n.checkClearUploadItems()):r(e.boxFile),n.updateViewAndCollection(l,(function(){n.state.view===U.VIEW_UPLOAD_IN_PROGRESS&&n.upload()}))})),Re(Te(n),"resetUploadManagerExpandState",(function(){n.isAutoExpanded=!1,n.setState({isUploadsManagerExpanded:!1})})),Re(Te(n),"handleUploadError",(function(e,t){var o=n.props,r=o.onError,a=o.useUploadsManager,i=e.file,l=n.state.items;e.status=U.STATUS_ERROR,e.error=t;var s=be(l),c=s.findIndex((function(t){return t===e}));-1!==c&&(s[c]=e),r(a?{item:e,error:t}:{file:i,error:t}),n.updateViewAndCollection(s,(function(){a&&(n.isAutoExpanded=!0,n.expandUploadsManager()),n.state.view===U.VIEW_UPLOAD_IN_PROGRESS&&n.upload()}))})),Re(Te(n),"handleUploadProgress",(function(e,t){if(t.total&&e.status!==U.STATUS_COMPLETE&&e.status!==U.STATUS_STAGED){e.progress=Math.min(Math.round(t.loaded/t.total*100),100),e.status=100===e.progress?U.STATUS_STAGED:U.STATUS_IN_PROGRESS,(0,n.props.onProgress)(e);var o=n.state.items;o[o.indexOf(e)]=e,n.updateViewAndCollection(o)}})),Re(Te(n),"onClick",(function(e){var t=n.props,o=t.chunked,r=t.isResumableUploadsEnabled,a=t.onClickCancel,i=t.onClickResume,l=t.onClickRetry,s=e.status,c=e.file,u=o&&c.size>104857600&&Object(M.isMultiputSupported)(),d=r&&u&&e.api.sessionId;switch(s){case U.STATUS_IN_PROGRESS:case U.STATUS_STAGED:case U.STATUS_COMPLETE:case U.STATUS_PENDING:n.removeFileFromUploadQueue(e),a(e);break;case U.STATUS_ERROR:d?(e.bytesUploadedOnLastResume=e.api.totalUploadedBytes,n.resumeFile(e),i(e)):(n.resetFile(e),n.uploadFile(e),l(e))}})),Re(Te(n),"clickAllWithStatus",(function(e){n.state.items.forEach((function(t){e&&t.status!==e||n.onClick(t)}))})),Re(Te(n),"expandUploadsManager",(function(){n.props.useUploadsManager&&(clearTimeout(n.resetItemsTimeout),n.setState({isUploadsManagerExpanded:!0}))})),Re(Te(n),"minimizeUploadsManager",(function(){var e=n.props,t=e.useUploadsManager,o=e.onMinimize;t&&o&&(clearTimeout(n.resetItemsTimeout),o(),n.resetUploadManagerExpandState(),n.checkClearUploadItems())})),Re(Te(n),"checkClearUploadItems",(function(){n.resetItemsTimeout=setTimeout(n.resetUploadsManagerItemsWhenUploadsComplete,8e3)})),Re(Te(n),"toggleUploadsManager",(function(){n.state.isUploadsManagerExpanded?n.minimizeUploadsManager():n.expandUploadsManager()})),Re(Te(n),"resetUploadsManagerItemsWhenUploadsComplete",(function(){var e=n.state,t=e.view,o=e.items,r=e.isUploadsManagerExpanded,a=n.props,i=a.useUploadsManager,l=a.onCancel;r&&i&&o.length||t===U.VIEW_UPLOAD_IN_PROGRESS||(l(o),n.setState({items:[],itemIds:{}}))})),Re(Te(n),"addFilesWithOptionsToUploadQueueAndStartUpload",(function(e,t){n.addFilesToUploadQueue(e,n.upload),n.addDataTransferItemsToUploadQueue(t,n.upload)}));var o=e.rootFolderId,r=e.token,a=e.useUploadsManager;return n.state={view:o&&r||a?U.VIEW_UPLOAD_EMPTY:U.VIEW_ERROR,items:[],errorCode:"",itemIds:{},isUploadsManagerExpanded:!1},n.id=I()("bcu_"),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.rootElement=document.getElementById(this.id),this.appElement=this.rootElement}},{key:"componentWillUnmount",value:function(){this.cancel()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.files,n=e.dataTransferItems,o=e.useUploadsManager,r=Array.isArray(t)&&t.length>0,a=Array.isArray(n)&&n.length>0;o&&(r||a)&&this.addFilesWithOptionsToUploadQueueAndStartUpload(t,n)}},{key:"createAPIFactory",value:function(e){var t=this.props.rootFolderId,n=w()(e,"folderId")||t,o=w()(e,"fileId"),r=Object(x.getTypedFolderId)(n),a=o?Object(x.getTypedFileId)(o):null;return new J.default(we({},this.getBaseAPIOptions(),{id:a||r},e))}},{key:"addFilesWithRelativePathToQueue",value:function(e,t){if(0!==e.length){var n=this.props.rootFolderId,o=Object(M.getFileAPIOptions)(e[0]),r=o.folderId,a=void 0===r?n:r,i=this.getFolderUploadAPI(a);i.buildFolderTreeFromWebkitRelativePath(e),this.addFolderToUploadQueue(i,t,o)}}},{key:"getUploadAPI",value:function(e,t){var n=this.props,o=n.chunked,r=n.isResumableUploadsEnabled,a=e.size,i=this.createAPIFactory(t);if(o&&a>104857600){if(Object(M.isMultiputSupported)()){var l=i.getChunkedUploadAPI();return r&&(l.isResumableUploadsEnabled=!0),l}console.warn("Chunked uploading is enabled, but not supported by your browser. You may need to enable HTTPS.")}return i.getPlainUploadAPI()}},{key:"uploadFile",value:function(e){var t=this,n=this.props,o=n.overwrite,r=n.rootFolderId,a=e.api,i=e.file,l=e.options,s=this.state.items;if(!(s.filter((function(e){return e.status===U.STATUS_IN_PROGRESS})).length>=6)){var c={file:i,folderId:l&&l.folderId?l.folderId:r,errorCallback:function(n){return t.handleUploadError(e,n)},progressCallback:function(n){return t.handleUploadProgress(e,n)},successCallback:function(n){return t.handleUploadSuccess(e,n)},overwrite:o,fileId:l&&l.fileId?l.fileId:null};e.status=U.STATUS_IN_PROGRESS,s[s.indexOf(e)]=e,a.upload(c),this.updateViewAndCollection(s)}}},{key:"resumeFile",value:function(e){var t=this,n=this.props,o=n.overwrite,r=n.rootFolderId,a=n.onResume,i=e.api,l=e.file,s=e.options,c=this.state.items;if(!(c.filter((function(e){return e.status===U.STATUS_IN_PROGRESS})).length>=6)){var u={file:l,folderId:s&&s.folderId?s.folderId:r,errorCallback:function(n){return t.handleUploadError(e,n)},progressCallback:function(n){return t.handleUploadProgress(e,n)},successCallback:function(n){return t.handleUploadSuccess(e,n)},overwrite:o,sessionId:i&&i.sessionId?i.sessionId:null,fileId:s&&s.fileId?s.fileId:null};e.status=U.STATUS_IN_PROGRESS,delete e.error,c[c.indexOf(e)]=e,a(e),i.resume(u),this.updateViewAndCollection(c)}}},{key:"resetFile",value:function(e){var t=e.api,n=e.file,o=e.options;t&&"function"===typeof t.cancel&&t.cancel(),e.api=this.getUploadAPI(n,o),e.progress=0,e.status=U.STATUS_PENDING,delete e.error;var r=this.state.items;r[r.indexOf(e)]=e,this.updateViewAndCollection(r)}},{key:"updateViewAndCollection",value:function(e,t){var n=this.props,o=n.onComplete,r=n.useUploadsManager,a=n.isResumableUploadsEnabled,i=e.some((function(e){return e.status!==U.STATUS_COMPLETE})),l=e.some((function(e){return e.status===U.STATUS_ERROR})),s=!e.some((function(e){return e.status!==U.STATUS_PENDING})),c=e.every((function(e){return e.status!==U.STATUS_PENDING&&e.status!==U.STATUS_IN_PROGRESS})),u=e.every((function(e){return e.status===U.STATUS_COMPLETE||e.status===U.STATUS_ERROR})),d=a?u:c,f="";e&&0===e.length||s?f=U.VIEW_UPLOAD_EMPTY:l&&r?f=U.VIEW_ERROR:i?f=U.VIEW_UPLOAD_IN_PROGRESS:(f=U.VIEW_UPLOAD_SUCCESS,r||(o(P()(e.map((function(e){return e.boxFile})))),e=[])),d&&r&&(this.isAutoExpanded&&this.resetUploadManagerExpandState(),o(e));var p={items:e,view:f};0===e.length&&(p.itemIds={},p.errorCode=""),this.setState(p,t)}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.messages,o=e.onClose,r=e.className,a=e.measureRef,i=e.isTouch,l=e.fileLimit,s=e.useUploadsManager,c=e.isResumableUploadsEnabled,u=e.isFolderUploadEnabled,d=e.isDraggingItemsToUploadsManager,f=void 0!==d&&d,p=this.state,h=p.view,m=p.items,v=p.errorCode,g=p.isUploadsManagerExpanded,b=!(0===m.length)||!!f,y=0!==m.length,C=m.some((function(e){return e.status===U.STATUS_IN_PROGRESS})),w=m.every((function(e){return e.status===U.STATUS_COMPLETE||e.status===U.STATUS_STAGED})),O=_()("bcu",r,{"be-app-element":!s,be:!s});return S.a.createElement(k.a,{language:t,messages:n},s?S.a.createElement("div",{ref:a,className:O,id:this.id},S.a.createElement(fe.default,{isDragging:f,isExpanded:g,isResumableUploadsEnabled:c,isVisible:b,items:m,onItemActionClick:this.onClick,onRemoveActionClick:this.removeFileFromUploadQueue,onUploadsManagerActionClick:this.clickAllWithStatus,toggleUploadsManager:this.toggleUploadsManager,view:h})):S.a.createElement("div",{ref:a,className:O,id:this.id},S.a.createElement(de,{addDataTransferItemsToUploadQueue:this.addDataTransferItemsToUploadQueue,addFiles:this.addFilesToUploadQueue,allowedTypes:["Files"],isFolderUploadEnabled:u,isTouch:i,items:m,onClick:this.onClick,view:h}),S.a.createElement(ve,{errorCode:v,fileLimit:l,hasFiles:y,isLoading:C,onCancel:this.cancel,onClose:o,onUpload:this.upload,isDone:w})))}}])&&Oe(n.prototype,o),r&&Oe(n,r),t}(b.Component);Re(Pe,"defaultProps",{rootFolderId:U.DEFAULT_ROOT,apiHost:U.DEFAULT_HOSTNAME_API,chunked:!0,className:"",clientName:U.CLIENT_NAME_CONTENT_UPLOADER,fileLimit:100,uploadHost:U.DEFAULT_HOSTNAME_UPLOAD,onBeforeUpload:E.a,onClickCancel:E.a,onClickResume:E.a,onClickRetry:E.a,onClose:E.a,onComplete:E.a,onError:E.a,onResume:E.a,onUpload:E.a,onProgress:E.a,overwrite:!0,useUploadsManager:!1,files:[],onMinimize:E.a,onCancel:E.a,isFolderUploadEnabled:!1,isResumableUploadsEnabled:!1,dataTransferItems:[],isDraggingItemsToUploadsManager:!1});var xe=Object(A.a)(Pe),Ae=n("9rZXnTAsBA"),ke=n.n(Ae),Me=n("PuqeRHPhsD"),ze=n.n(Me);function Ue(e){return(Ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){return function(t){return function(n){function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=function(e,t){return!t||"object"!==Ue(t)&&"function"!==typeof t?Ne(e):t}(this,je(o).call(this,e)),We(Ne(t),"onClick",(function(e){var n=t.props.onClick,o=void 0===n?E.a:n;t.close(o,e)})),We(Ne(t),"onClose",(function(e){var n=t.props.onClose,o=void 0===n?E.a:n;t.close(o,e)})),We(Ne(t),"onCancel",(function(e){var n=t.props.onCancel,o=void 0===n?E.a:n;t.close(o,e)})),We(Ne(t),"onChoose",(function(e){var n=t.props.onChoose,o=void 0===n?E.a:n;t.close(o,e)})),We(Ne(t),"onButtonClick",(function(){t.setState({isOpen:!0})})),t.state={isOpen:!1},t}var r,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(o,n),r=o,(a=[{key:"close",value:function(e,t){this.setState({isOpen:!1},(function(){return e(t)}))}},{key:"render",value:function(){var n=this.state.isOpen,o=this.props,r=o.modal,a=De(o,["modal"]),i=ze()(a,["onCancel","onChoose","onClose","modal"]),l=r.buttonLabel,s=void 0===l?"Missing modal.buttonLabel in options":l,c=r.buttonClassName,u=void 0===c?"btn btn-primary":c,d=r.modalClassName,f=void 0===d?"be-modal-wrapper-content":d,p=r.overlayClassName,h=void 0===p?"be-modal-wrapper-overlay":p;switch(e){case U.CLIENT_NAME_CONTENT_PICKER:i.onCancel=this.onCancel,i.onChoose=this.onChoose;break;case U.CLIENT_NAME_CONTENT_UPLOADER:i.onClose=this.onClose;break;default:throw new Error("Unknown kit type")}return S.a.createElement("div",null,S.a.createElement("button",{className:u,onClick:this.onButtonClick,type:"button"},s),S.a.createElement(ke.a,{className:f,contentLabel:e,isOpen:n,overlayClassName:h},S.a.createElement(t,i)))}}])&&Fe(r.prototype,a),i&&Fe(r,i),o}(b.PureComponent)}})(U.CLIENT_NAME_CONTENT_UPLOADER)(xe);var He=n("FK3KWhmfP1"),Ge=n("tGiIrIA8S4"),Ve=n("Yz0eQ4zdhU"),Be=n("zfug/tAS+n"),Qe=n("KkV1xy8Nlr"),qe=n("/MKjzBatqn");n("6GdfMI1G//");function Ke(e){return(Ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ze(e,t){return!t||"object"!==Ke(t)&&"function"!==typeof t?$e(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=function(e){function t(){var e,n;Je(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return tt($e(n=Ze(this,(e=Ye(t)).call.apply(e,[this].concat(r)))),"inputRef",b.createRef()),tt($e(n),"handleChange",(function(e){var t=n.props,o=t.uploadInputData,r=o.itemTypedID,a=o.newFolderName,i=t.showFtuxUploadModal,l=t.uploadFiles,s=t.uploadFilesToNewFolder;if(r){var c=e.target,u="d"===r[0],d=r.substr(2),f=u?null:d,p=u?d:null;a?(s({items:Array.from(c.files).map((function(e){return{file:e,fileID:f,folderID:p}})),folderName:a}),i()):l({items:Array.from(c.files).map((function(e){return{file:e,fileID:f,folderID:p}}))}),c.value=""}})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,e),n=t,(o=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.shouldClickInput,o=t.resetInputClick;!1===e.shouldClickInput&&!0===n&&this.inputRef.current&&(this.inputRef.current.click(),o())}},{key:"render",value:function(){var e=this.props.uploadInputData,t=e.isMultipleUpload,n=e.isFolderUpload;return b.createElement("input",{ref:this.inputRef,className:"hidden",directory:n?"":void 0,multiple:t,onChange:this.handleChange,type:"file",webkitdirectory:n?"":void 0})}}])&&Xe(n.prototype,o),r&&Xe(n,r),t}(b.Component),ot=Object(qe.connect)((function(e){return{uploadInputData:Object(v.g)(e),shouldClickInput:Object(v.e)(e)}}),{showFtuxUploadModal:g.f,uploadFiles:g.l,uploadFilesToNewFolder:g.m,resetInputClick:g.e})(nt),rt=n("p46wehd9jJ"),at=n.n(rt),it="".concat(h.f.contextual.modalStoragePaywall.name,"_lastSeenTimestamp");var lt={canBeShown:function(){var e,t=(e=at.a.get(it))?Date.now()-parseInt(e,10):null;return!t||t<=36e5},markAsShown:function(){at.a.set(it,Date.now())}},st=n("RiDtq2hDhI"),ct=n("jyz5Lsk3MC");var ut=function(e,t,n){var o=e.isAdmin,r=e.isCoAdmin,a=e.tier,i=o||r;if([st.d.MANAGED_USER,st.d.STARTER].includes(a))if(i)switch(a){case st.d.BUSINESS:n(h.f.contextual.modalStorageCapsAdminBusiness,a);break;case st.d.BUSINESS_PLUS:n(h.f.contextual.modalStorageCapsAdminBusinessPlus,a);break;case st.d.STARTER:n(h.f.contextual.modalStorageCapsAdminStarter,a)}else{var l=t.adminEmail||null,s=t.adminName||null;l&&s&&n(h.f.contextual.modalStorageCapsEndUser,s,l)&&Object(ct.g)("/app-api/enduserapp/storage-caps/storage-exceeded")}},dt=n("LwZZ+jkMTU"),ft=n("ScQNpb9SoF"),pt=(n("07U6bTMPbZ"),n("QAlc8H81B9"));n("klXPAyvBNb");function ht(e){return(ht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t,n,o,r,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,r)}function vt(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){mt(a,o,r,i,l,"next",e)}function l(e){mt(a,o,r,i,l,"throw",e)}i(void 0)}))}}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _t(e,t){return!t||"object"!==ht(t)&&"function"!==typeof t?wt(e):t}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt=Ge.b.formatMessage,It=function(e){function t(){var e,n;St(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Et(wt(n=_t(this,(e=Ct(t)).call.apply(e,[this].concat(r)))),"state",{formattedItems:[]}),Et(wt(n),"processedUploadItemIDs",{}),Et(wt(n),"succeededUploadItemIDs",{}),Et(wt(n),"failedUploadItemIDs",{}),Et(wt(n),"errorNotificationTimeout",void 0),Et(wt(n),"startedUploadItemIDs",new Set),Et(wt(n),"setUploadStatus",(function(e,t){(0,n.props.setUploadStatus)(bt({},Object(pt.b)(e),{status:t}))})),Et(wt(n),"getFormattedItems",(function(e){var t=n.props.currentUser;return e.map((function(e){return{file:e.file,options:{apiHost:t.apiHost,folderId:e.folderID,fileId:e.fileID,token:pt.c,uploadInitTimestamp:e.uploadInitTimestamp}}}))})),Et(wt(n),"beforeUnloadHandler",(function(e){var t=n.props,o=t.pendingUploads,r=t.dataTransferItems;if(!o.isEmpty()||!r.isEmpty()){var a=Ge.b.formatMessage(ft.a.uploadInProgressNavigateAlertMessage);return e.returnValue=a,a}})),Et(wt(n),"getProcessedItemCount",(function(e,t){return e.reduce((function(e,n){var o=Object(pt.a)(n);return o in t?e:(t[o]=!0,e+1)}),0)})),Et(wt(n),"showStoragePaywall",(function(){var e=n.props,t=e.currentUser.storageRemainingAsString,o=e.showInAppMessage;lt.canBeShown()&&null!==t&&(o(h.f.contextual.modalStoragePaywall,"/update",t),lt.markAsShown())})),Et(wt(n),"showUploadsErrorNotification",(function(e){var t=n.props,o=t.failedUploads,r=t.isResumableUploadsEnabled,a=t.showErrorNotification,i=t.showWarningNotification,l=n.getProcessedItemCount(o,n.failedUploadItemIDs);e!==dt.a?l<=0||(r?i(Tt(ft.a.resumableUploadsFailedNotification,{number:l})):a(Tt(ft.a.uploadsFailedNotification,{number:l}),e,"UPLOADS_MANAGER")):a(Tt(ft.a.insufficientPermissionsNotification),e,"UPLOADS_MANAGER")})),Et(wt(n),"handleComplete",vt(regeneratorRuntime.mark((function e(){var t,o,r,a,i,l,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,o=t.failedUploads,r=t.setFtuxUploadStatus,a=t.showInfoNotification,i=t.showUploadErrorBanner,l=t.succeededUploads,s=t.resetFiles,!((c=n.getProcessedItemCount(l,n.succeededUploadItemIDs))<=0)){e.next=4;break}return e.abrupt("return");case 4:n.showStoragePaywall(),Be.a.recordAction({action:"programmatic",feature:"uploads",target:"uploadsuccessful",data:{successes:c}}),i&&0!==o.size||s(),a(Tt(ft.a.uploadsSucceededNotification,{number:c})),r();case 9:case"end":return e.stop()}}),e)})))),Et(wt(n),"updateItems",(function(e){var t=e.filter((function(e){var t=Object(pt.a)(e),o=!(t in n.processedUploadItemIDs);return n.processedUploadItemIDs[t]=!0,o}));n.setState({formattedItems:n.getFormattedItems(t)})})),Et(wt(n),"handleError",(function(e){var t=n.props,o=t.currentUser,r=t.currentEnterprise,a=t.failedUploads,i=t.isValidAccountForPaywall,l=t.openLargeFilePaywallModal,s=t.openOveragePaywallModal,c=t.showInAppMessage,u=e.item,d=e.error,f=void 0===d?{}:d;Be.a.recordAction({action:"programmatic",feature:"uploads",target:"uploadfailed",data:{failures:a.size}});var p=[st.d.MANAGED_USER,st.d.STARTER].includes(o.tier);switch(f.code){case"file_size_limit_exceeded":i&&l();break;case"storage_limit_exceeded":!o.hasUnlimitedStorage&&p?ut(o,r,c):i&&s()}n.setUploadStatus(u,dt.b),clearTimeout(n.errorNotificationTimeout),n.errorNotificationTimeout=setTimeout((function(){return n.showUploadsErrorNotification(f.code)}),3e3)})),Et(wt(n),"handleCancel",(function(e){var t=n.props.cancelFile;e.forEach((function(e){e.file&&t(Object(pt.b)(e))}))})),Et(wt(n),"handleUpload",(function(e){var t=n.props,o=t.location,r=void 0===o?{}:o,a=t.isResumableUploadsEnabled,i=r.pathname||"";if(e.boxFile){var l,s;if(n.setUploadStatus(e,dt.d),!e.isFolder)if(Ve.a.sendBatchLog(dt.e,dt.f,(Et(l={},dt.k,a),Et(l,dt.h,e.size),Et(l,dt.i,n.isMultiputUpload(e.api)),l)),e.bytesUploadedOnLastResume)Ve.a.sendBatchLog(dt.j,dt.f,(Et(s={},dt.h,e.size),Et(s,dt.l,e.bytesUploadedOnLastResume),s));i.startsWith("/file/")&&Object(Qe.c)()}})),Et(wt(n),"isMultiputUpload",(function(e){return e instanceof He.a?1:0})),Et(wt(n),"onClickCancel",(function(){Be.a.recordAction({action:"programmatic",feature:"uploads",target:"uploadcancel"})})),Et(wt(n),"onClickResume",(function(){Be.a.recordAction({action:"programmatic",feature:"uploads",target:"uploadresume"})})),Et(wt(n),"onClickRetry",(function(){Be.a.recordAction({action:"programmatic",feature:"uploads",target:"uploadretry"})})),Et(wt(n),"handleProgress",(function(e){var t,o=n.props.isResumableUploadsEnabled,r=Object(pt.a)(bt({},e,{},e.options));n.startedUploadItemIDs.has(r)||(Ve.a.sendBatchLog(dt.e,dt.g,(Et(t={},dt.k,o),Et(t,dt.h,e.size),Et(t,dt.i,n.isMultiputUpload(e.api)),t)),n.startedUploadItemIDs.add(r))})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.beforeUnloadHandler)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.pendingUploads;if(e.pendingUploads!==t){var n=e.pendingUploads.toJS();this.updateItems(n)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.beforeUnloadHandler)}},{key:"render",value:function(){var e=this.state.formattedItems,t=this.props,n=t.dataTransferItems,o=t.isDragging,r=t.isMultiputUploadsEnabled,a=t.isResumableUploadsEnabled,i=t.language;return b.createElement(b.Fragment,null,b.createElement(ot,null),b.createElement(xe,{chunked:r,dataTransferItems:n.toJS(),fileLimit:1e5,files:e,isDraggingItemsToUploadsManager:o,isFolderUploadEnabled:!0,isResumableUploadsEnabled:a,language:i,onCancel:this.handleCancel,onClickCancel:this.onClickCancel,onClickResume:this.onClickResume,onClickRetry:this.onClickRetry,onComplete:this.handleComplete,onError:this.handleError,onProgress:this.handleProgress,onUpload:this.handleUpload,useUploadsManager:!0}))}}])&&yt(n.prototype,o),r&&yt(n,r),t}(b.Component),Rt=Object(m.a)(Object(h.h)(Object(i.a)(r.b,r.a,Object(i.b)((function(e){var t=Object(l.f)(e),n="lite"===Object(l.i)(e),r=Object(s.b)(e);return{dataTransferItems:Object(v.a)(e),currentEnterprise:Object(a.a)(e),failedUploads:Object(v.b)(e),isDragging:Object(v.c)(e),isValidAccountForPaywall:t&&r||n,isMultiputUploadsEnabled:Object(o.l)(e,"multiputUploads"),isResumableUploadsEnabled:Object(o.l)(e,"resumableUploads"),showUploadErrorBanner:Object(o.l)(e,"eua_experiment_show_upload_error_banner"),location:Object(p.b)(e),pendingUploads:Object(v.d)(e),succeededUploads:Object(v.f)(e)}}),(function(e,t){var n=t.onboardingApi.onCompleteOnboardingTask;return{cancelFile:function(t){return e(Object(g.a)(t))},getFolderItemInfo:function(t){return e(Object(f.b)(t))},setUploadStatus:function(t){return e(Object(g.h)(t,n))},showInfoNotification:function(t,n,o,r){return e(Object(c.f)(t,n,o,r))},showErrorNotification:function(t,n,o){return e(Object(c.e)({message:t,messageKey:n,origin:o}))},showWarningNotification:function(t){return e(Object(c.h)(t))},openLargeFilePaywallModal:function(){return e(Object(u.b)({activeModal:d.J}))},openOveragePaywallModal:function(){return e(Object(u.b)({activeModal:d.S}))},setFtuxUploadStatus:function(){return e(Object(g.g)())},stopUploadDragging:function(){return e(Object(g.j)())},resetFiles:function(){return e(Object(g.c)())}}})))(It))),Pt=n("hn+NXNB/An");n.d(t,"UploadsManager",(function(){return Rt})),n.d(t,"reducer",(function(){return Pt.a}))},ZDLaNmnDzE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(i)};var o=/input|select|textarea|button|object/;function r(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function a(e,t){var n=e.nodeName.toLowerCase();return(o.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(r(t))return!1;t=t.parentNode}return!0}(e)}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&a(e,!n)}e.exports=t.default},c99PaKbaDG:function(e,t,n){},fbhfxMfiED:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var o={},r={};t.add=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?o:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(a,e),n.add(e)}));var n,a},t.remove=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?o:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(a,e),0===a[e]&&n.remove(e)}));var n,a}},"huPBr4gIu/":function(e,t,n){"use strict";var o=n("q1tIBJhxTW"),r=n("DJuBjJIVWu"),a=n("1En/ASmD05");t.a=function(e){var t=e.className,n=void 0===t?"":t,i=e.color,l=void 0===i?a.bdlGray:i,s=e.height,c=void 0===s?32:s,u=e.title,d=e.width,f=void 0===d?32:d;return o.createElement(r.default,{className:"bdl-IconRetry ".concat(n),height:c,title:u,viewBox:"0 0 32 32",width:f},o.createElement("g",{className:"fill-color",fill:l,fillRule:"evenodd"},o.createElement("path",{d:"M25.023 16c0-6.075-4.925-11-11-11s-11 4.925-11 11 4.925 11 11 11c2.601 0 5.06-.904 7.02-2.53a1 1 0 1 1 1.278 1.538A12.949 12.949 0 0 1 14.023 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13a1 1 0 0 1-2 0z",fillRule:"nonzero"}),o.createElement("path",{d:"M20 14l6 6 6-6z"})))}},hwwHgtiB94:function(e,t,n){},klXPAyvBNb:function(e,t,n){},kqErjesBlD:function(e,t,n){},"kxUgykoVL+":function(e,t,n){},m0AvLASv6a:function(e,t,n){"use strict";(function(e){function o(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof self?self:e;var o,r,a="undefined"!==typeof document&&document.attachEvent;if(!a){var i=(r=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(e){return n.setTimeout(e,20)},function(e){return r(e)}),l=(o=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(e){return o(e)}),s=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,o=t.lastElementChild,r=n.firstElementChild;o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;s(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=i((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},u=!1,d="",f="animationstart",p="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(u=!0),!1===u)for(var v=0;v<p.length;v++)if(void 0!==m.style[p[v]+"AnimationName"]){d="-"+p[v].toLowerCase()+"-",f=h[v],u=!0;break}var g="resizeanim",b="@"+d+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",S=d+"animation: 1ms "+g+"; "}return{addResizeListener:function(e,o){if(a)e.attachEvent("onresize",o);else{if(!e.__resizeTriggers__){var r=e.ownerDocument,i=n.getComputedStyle(e);i&&"static"==i.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(b||"")+".resize-triggers { "+(S||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=e.head||e.getElementsByTagName("head")[0],r=e.createElement("style");r.id="detectElementResize",r.type="text/css",null!=t&&r.setAttribute("nonce",t),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(e.createTextNode(n)),o.appendChild(r)}}(r),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=r.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),s(e),e.addEventListener("scroll",c,!0),f&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==g&&s(e)},e.__resizeTriggers__.addEventListener(f,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(o)}},removeResizeListener:function(e,t){if(a)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(f,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}n.d(t,"a",(function(){return o}))}).call(this,n("yLpjYHveuD"))},mUkOjmcVog:function(e,t,n){},qFS376fjvS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n("q1tIBJhxTW"),i=h(a),l=h(n("i8i4LrFtwK")),s=h(n("17x9q+7QrQ")),c=h(n("QEsoKfQNDw")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("Ye7mbDSjDo")),d=n("2zs7GxXBkF"),f=h(d),p=n("VCL8fjJwDE");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",b=t.bodyOpenClassName="ReactModal__Body--open",S=void 0!==l.default.createPortal,y=function(){return S?l.default.createPortal:l.default.unstable_renderSubtreeIntoContainer};function _(e){return e()}var C=function(e){function t(){var e,n,r;m(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.removePortal=function(){!S&&l.default.unmountComponentAtNode(r.node),_(r.props.parentSelector).removeChild(r.node)},r.portalRef=function(e){r.portal=e},r.renderPortal=function(e){var n=y()(r,i.default.createElement(c.default,o({defaultStyles:t.defaultStyles},e)),r.node);r.portalRef(n)},v(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(S||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,_(this.props.parentSelector).appendChild(this.node),!S&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:_(e.parentSelector),nextParent:_(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var o=this.props,r=o.isOpen,a=o.portalClassName;e.portalClassName!==a&&(this.node.className=a);var i=n.prevParent,l=n.nextParent;l!==i&&(i.removeChild(this.node),l.appendChild(this.node)),(e.isOpen||r)&&!S&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&S?(!this.node&&S&&(this.node=document.createElement("div")),y()(i.default.createElement(c.default,o({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(a.Component);C.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.instanceOf(f.default),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func},C.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:b,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},C.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(C),t.default=C},vxJfpaXHxo:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return c}));var o=n("LwZZ+jkMTU"),r=function(e){return e.uploadsManager.items.filter((function(e){return e.status===o.d}))},a=function(e){return e.uploadsManager.items.filter((function(e){return e.status===o.b}))},i=function(e){return e.uploadsManager.items.filter((function(e){return e.status===o.c}))},l=function(e){return e.uploadsManager.uploadInputData},s=function(e){return e.uploadsManager.isDragging},c=function(e){return e.uploadsManager.dataTransferItems},u=function(e){return e.uploadsManager.shouldClickInput}},zapBslzZE5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o="data-resin-target"}}]);